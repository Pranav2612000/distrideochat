{"version":3,"sources":["views/MessageList/index.js","containers/DefaultLayout/DefaultAside.js","views/Compose/index.js","views/Toolbar/index.js","views/ToolbarButton/index.js","views/Message/index.js","views/Connection/Controls.js","views/Widgets/MemberList.js","../node_modules/reactstrap/es/DropdownMenu.js","../node_modules/reactstrap/es/DropdownItem.js","../node_modules/react-popper/lib/esm/Reference.js","../node_modules/reactstrap/es/DropdownToggle.js","assets/img/brand/logo.png","../node_modules/reactstrap/es/UncontrolledDropdown.js","containers/DefaultLayout/DefaultHeader.js"],"names":["socket","socketIOClient","global","config","backendURL","MessageList","props","init","getReqData","messages","state","roomName","lastMsgId","length","id","fetchMessages","data","undefined","console","log","msg","push","setState","renderMessages","i","messageCount","tempMessages","previous","current","next","isMine","sender","MY_USER_ID","currentMoment","moment","timestamp","startsSequence","endsSequence","showTimestamp","previousMoment","previousDuration","duration","diff","author","as","nextMoment","nextDuration","key","updateMsg","msgObject","newMsgs","newFormattedMsg","formatMsgs","concat","username","msgs","change","this","on","prevProps","window","scrollTo","document","querySelector","scrollHeight","tempMsg","update","formattedMsgs","forEach","val","index","formattedMsg","Date","getTime","className","title","rightItems","icon","callback","Component","connect","loginReducer","DefaultAside","changeRoomType","roomType","store","addNotification","message","type","container","animationIn","animationOut","dismiss","pauseOnHover","locationString","room","lastslash","lastIndexOf","slice","getRoomFromLocation","location","pathname","toggle","bind","activeTab","path","getRoomInfo","tab","children","Fragment","tabs","classNames","active","onClick","tabId","users","guests","class","variant","label","color","defaultChecked","size","withRouter","Compose","useState","setMsg","sendMessage","a","reqData","axios","post","headers","localStorage","getItem","then","res","catch","err","placeholder","value","onKeyDown","e","keyCode","onChange","target","style","styleSheet","inputStyles","borderRadius","backgroundColor","marginRight","borderWidth","borderColor","composeStyles","border","position","bottom","margin","padding","buttonStyles","Toolbar","leftItems","ToolbarButton","Message","friendlyTimestamp","format","join","Controls","createNotif","switchContext","context","getElementById","srcObject","nextElementSibling","innerText","display","poster","play","$","removeClass","addClass","myIds","myPeers","remotePeers","Set","remotePeersID","calls","Array","connectedPeers","friendtkn","myUsername","startScreenShare","startConnection","sendCallEndedSignal","endCall","Peer","host","port","iceServers","urls","url","credential","self","peer","isVideo","destroy","deleteAllVideoElements","peers","myIDs","createPeer","tkn","onlineArray","online","changePeer","disconnected","connections","reconnect","setUpConnections","updateSelfPeerInfo","getMyMediaStream","media","waitForConnections","navigator","mediaDevices","getDisplayMedia","video","width","height","audio","myMediaStreamObj","createVideoElement","getUserMedia","mediaa","sendMediaStream","call","isAnswer","metadata","track","getTracks","thiscall","addEventListener","close","deleteVideoElement","answer","addHandlersToCall","stream","duplicateCall","createStream","onremovetrack","evt","wrapper","createElement","nameTag","classList","add","muted","autoplay","onclick","appendChild","remove","hasClass","clearContext","empty","idToBeDestroyed","sendRequestToEndCall","stop","removeTrack","action","element","disabled","MemberList","loading","newmember","modal","addMember","handleNewMemberChange","shareLink","link","href","share","error","clipboard","writeText","status","cursor","flush","map","user","Math","random","isOpen","addonType","autoComplete","placement","propTypes","tag","tagPropType","PropTypes","node","isRequired","right","bool","flip","modifiers","object","string","cssModule","persist","positionFixed","noFlipModifier","enabled","directionPositionMap","up","left","down","DropdownMenu","_React$Component","apply","arguments","_inheritsLoose","prototype","render","_this","_this$props","attrs","_objectWithoutPropertiesLoose","classes","mapToCssModules","show","Tag","inNavbar","poperPlacement","direction","poperModifiers","_objectSpread2","popperPositionFixed","React","Popper","_ref","ref","_extends","tabIndex","role","defaultProps","contextType","DropdownContext","divider","header","func","DropdownItem","_assertThisInitialized","getTabIndex","_proto","preventDefault","_omit","omit","InnerReference","_len","args","_key","_defineProperty","setRef","innerRef","safeInvoke","setReferenceNode","componentWillUnmount","warning","Boolean","unwrapArray","refHandler","Reference","ManagerReferenceNodeSetterContext","Consumer","caret","split","nav","DropdownToggle","_this2","ariaLabel","Button","_ref2","module","exports","omitKeys","UncontrolledDropdown","_Component","defaultOpen","onToggle","Dropdown","DefaultHeader","friendid","handleFriendChange","handleRoomNameChange","addFriend","mobile","full","src","logo","minimized","navbar","to","onLogout"],"mappings":"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","file":"static/js/9.d82bfa42.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Compose from '../Compose';\nimport Toolbar from '../Toolbar';\nimport ToolbarButton from '../ToolbarButton';\nimport Message from '../Message';\nimport moment from 'moment';\nimport axios from 'axios';\nimport socketIOClient from 'socket.io-client';\nimport { connect } from 'react-redux';\nimport './MessageList.css';\nimport { Col } from 'reactstrap';\n\nconst socket = socketIOClient(`${global.config.backendURL}/`);\n\nclass MessageList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      MY_USER_ID: this.props.username,\n      messages: this.props.msgs,\n      change: false,\n      lastMsgId: 0\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      messages: this.props.msgs\n    });\n    socket.on('newMessage', (data) => {\n      console.log('New Message Arrived', data, this.state.MY_USER_ID);\n\n      if (\n        this.props.roomName !== 'dashboard' &&\n        this.props.roomName == data['room'] &&\n        this.state.messages !== undefined &&\n        this.state.MY_USER_ID !== data['sender']\n      )\n        this.fetchMessages(true, data);\n\n      //console.log('Data and Message list : ', messages, data);\n      // if (props.roomName !== \"dashboard\") fetchMessages();\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    window.scrollTo(0, document.querySelector('#message-list').scrollHeight);\n    if (prevProps.roomName !== this.props.roomName) {\n      this.setState({\n        messages: this.props.msgs\n      });\n      this.init();\n    }\n  }\n\n  formatMsgs(tempMsg, update = false) {\n    let formattedMsgs = this.state.messages;\n    if (update) formattedMsgs = [];\n    tempMsg.forEach((val, index) => {\n      let formattedMsg = {};\n      formattedMsg.id = val.id;\n      formattedMsg.sender = val.sender;\n      formattedMsg.msg = val.msg;\n      formattedMsg.timestamp = new Date().getTime();\n      formattedMsgs.push(formattedMsg);\n    });\n    return formattedMsgs;\n  }\n\n  init = () => {\n    // axios\n    //   .get('http://localhost:5000/api/user/getUserName', {\n    //     headers: {\n    //       'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n    //     }\n    //   })\n    //   .then((resp) => {\n    //     this.setState({\n    //       MY_USER_ID: resp.data.username\n    //     });\n    //   })\n    //   .catch((err) => {\n    //     console.log(err, 'Error in Verifying JWT');\n    //   });\n  };\n\n  getReqData = () => {\n    // console.clear()\n    let messages = this.state.messages;\n    return {\n      roomName: this.props.roomName,\n      lastMsgId:\n        messages && messages.length > 0 ? messages[messages.length - 1].id + 1 : -1\n    };\n  };\n\n  fetchMessages = (change = false, data) => {\n    let messages = this.state.messages;\n    delete data['room'];\n    if (\n      messages !== undefined &&\n      messages !== null &&\n      data !== undefined &&\n      data !== null\n    ) {\n      console.log('Inside');\n      var msg = messages;\n      msg.push(data);\n      this.setState({\n        messages: msg\n      });\n    }\n    console.log('Inside fetch Message', this.state.messages, data);\n    return;\n  };\n\n  renderMessages = () => {\n    // console.clear()\n    let messages = this.state.messages;\n    if (!messages) {\n      console.log('no messages');\n      return;\n    }\n    console.log(messages);\n    console.log(messages.length);\n    let i = 0;\n    const messageCount = messages.length;\n    const tempMessages = [];\n    while (i < messageCount) {\n      const previous = messages[i - 1];\n      const current = messages[i];\n      const next = messages[i + 1];\n      const isMine = current.sender === this.state.MY_USER_ID;\n      const currentMoment = moment(current.timestamp);\n      let prevBySameAuthor = false;\n      let nextBySameAuthor = false;\n      let startsSequence = true;\n      let endsSequence = true;\n      let showTimestamp = true;\n\n      if (previous) {\n        const previousMoment = moment(previous.timestamp);\n        const previousDuration = moment.duration(currentMoment.diff(previousMoment));\n        prevBySameAuthor = previous.author === current.author;\n\n        if (prevBySameAuthor && previousDuration.as('hours') < 1) {\n          startsSequence = false;\n        }\n\n        if (previousDuration.as('hours') < 1) {\n          showTimestamp = false;\n        }\n      }\n\n      if (next) {\n        const nextMoment = moment(next.timestamp);\n        const nextDuration = moment.duration(nextMoment.diff(currentMoment));\n        nextBySameAuthor = next.author === current.author;\n\n        if (nextBySameAuthor && nextDuration.as('hours') < 1) {\n          endsSequence = false;\n        }\n      }\n      if (messageCount == 1) endsSequence = false;\n      tempMessages.push(\n        <Message\n          key={i}\n          isMine={isMine}\n          startsSequence={startsSequence}\n          endsSequence={endsSequence}\n          showTimestamp={showTimestamp}\n          data={current}\n        />\n      );\n\n      // Proceed to the next message.\n      i += 1;\n\n      // console.log(current);\n    }\n    console.log(tempMessages);\n    return tempMessages;\n  };\n\n  updateMsg = (msgObject) => {\n    let newMsgs = [msgObject];\n    let newFormattedMsg = this.formatMsgs(newMsgs, true);\n    newMsgs = this.state.messages.concat(newFormattedMsg);\n    this.setState({\n      messages: newMsgs\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"message-list bg-dark\">\n        <Toolbar\n          title={this.props.roomName}\n          /*\n      rightItems={[\n        <ToolbarButton key=\"info\" icon=\"ion-ios-information-circle-outline\" />,\n        <ToolbarButton key=\"video\" icon=\"ion-ios-videocam\" />,\n        <ToolbarButton key=\"phone\" icon=\"ion-ios-call\" />\n      ]}\n             */\n        />\n\n        <div className=\"message-list-container bg-dark\" id=\"message-list\">\n          {this.renderMessages()}\n        </div>\n\n        <Compose\n          rightItems={[\n            <ToolbarButton key=\"photo\" icon=\"ion-ios-camera\" />,\n            <ToolbarButton key=\"image\" icon=\"ion-ios-image\" />,\n            <ToolbarButton key=\"audio\" icon=\"ion-ios-mic\" />,\n            <ToolbarButton key=\"money\" icon=\"ion-ios-card\" />,\n            <ToolbarButton key=\"games\" icon=\"ion-logo-game-controller-b\" />,\n            <ToolbarButton key=\"emoji\" icon=\"ion-ios-happy\" />\n          ]}\n          roomName={this.props.roomName}\n          callback={this.updateMsg}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(state);\n  return {\n    username: state.loginReducer.username\n  };\n};\n\nexport default connect(mapStateToProps)(MessageList);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport ReactNotification, { store } from 'react-notifications-component';\n\nimport {\n  Nav,\n  NavItem,\n  NavLink,\n  Progress,\n  TabContent,\n  TabPane,\n  ListGroup,\n  ListGroupItem\n} from 'reactstrap';\nimport './DefaultLayout.css';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { AppSwitch } from '@coreui/react';\nimport MessageView from '../../views/MessageList/index';\nimport Controls from '../../views/Connection/Controls';\nimport MemberList from '../../views/Widgets/MemberList';\nimport axios from 'axios';\nimport {\n  Button,\n  ButtonGroup,\n  Badge,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Container,\n  Row,\n  Collapse,\n  Fade,\n  Spinner\n} from 'reactstrap';\n\nfunction getRoomFromLocation(locationString) {\n  let room = '';\n  const lastslash = locationString.lastIndexOf('/');\n  room = locationString.slice(lastslash + 1);\n  console.log(room);\n  return room;\n}\n\nclass DefaultAside extends Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n\n    let roomName = getRoomFromLocation(this.props.location.pathname);\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      activeTab: '1',\n      change: false,\n      roomName: roomName,\n      roomType: 'Public',\n      path: props.location.pathname\n    };\n    this.getRoomInfo = this.getRoomInfo.bind(this);\n  }\n\n  changeRoomType = () => {\n    this.setState({\n      roomType: this.state.roomType === 'Public' ? 'Private' : 'Public'\n    });\n    store.addNotification({\n      title: `Room Type Changed`,\n      message: `Changed room type to ${this.state.roomType}`,\n      type: 'success',\n      // insert: \"top\",\n      container: 'top-right',\n      animationIn: ['animated', 'fadeIn'],\n      animationOut: ['animated', 'fadeOut'],\n      dismiss: {\n        duration: 3000,\n        pauseOnHover: true\n      }\n    });\n  };\n\n  getRoomInfo(roomName) {\n    console.log('nothing to say.');\n    return;\n  }\n\n  componentDidMount() {\n    console.log('mounting');\n  }\n\n  toggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  render() {\n    // eslint-disable-next-line\n    console.log(this.props);\n    const { children, ...attributes } = this.props;\n\n    return (\n      <React.Fragment>\n        <Nav tabs>\n          <NavItem>\n            <NavLink\n              className={classNames({ active: this.state.activeTab === '1' })}\n              onClick={() => {\n                this.toggle('1');\n              }}>\n              <i className=\"icon-list\"></i>\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classNames({ active: this.state.activeTab === '2' })}\n              onClick={() => {\n                this.toggle('2');\n              }}>\n              <i className=\"icon-speech\"></i>\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classNames({ active: this.state.activeTab === '3' })}\n              onClick={() => {\n                this.toggle('3');\n              }}>\n              <i className=\"icon-settings\"></i>\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <TabContent activeTab={this.state.activeTab}>\n          <TabPane tabId=\"1\">\n            <Container className=\"bg-dark\">\n              <Row>\n                <Controls roomName={this.props.roomName} />\n                <MemberList\n                  users={this.props.users}\n                  guests={this.props.guests}\n                  roomName={this.props.roomName}\n                />\n              </Row>\n            </Container>\n          </TabPane>\n          <TabPane tabId=\"2\" className=\"p-3 bg-dark\" key={this.state.change}>\n            <MessageView roomName={this.props.roomName} msgs={this.props.msgs} />\n          </TabPane>\n\n          <TabPane tabId=\"3\" className=\"p-3 bg-dark\">\n            <h6>Settings</h6>\n\n            <div className=\"aside-options\">\n              <div className=\"clearfix mt-4\">\n                <small>\n                  <button class=\"btn btn-dark\">Change Room Icon</button>\n                </small>\n              </div>\n              <div>\n                <small className=\"text-muted\">Set the Room Icon.</small>\n              </div>\n            </div>\n\n            <div className=\"aside-options\">\n              <div className=\"clearfix mt-3\">\n                <small>\n                  <button class=\"btn btn-dark\" onClick={this.changeRoomType}>\n                    Change Room Type\n                  </button>\n                </small>\n              </div>\n              <div>\n                <small className=\"text-muted\">\n                  Set the active room to Private / Public.\n                </small>\n              </div>\n            </div>\n\n            <div className=\"aside-options\">\n              <div className=\"clearfix mt-3\">\n                <small>\n                  <b>More settings</b>\n                </small>\n                <AppSwitch\n                  className={'float-right'}\n                  variant={'pill'}\n                  label\n                  color={'success'}\n                  defaultChecked\n                  size={'sm'}\n                />\n              </div>\n            </div>\n          </TabPane>\n        </TabContent>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(DefaultAside);\n","import React, { useState } from 'react';\nimport './Compose.css';\nimport axios from 'axios';\n\nexport default function Compose(props) {\n  const [msg, setMsg] = useState('');\n  async function sendMessage() {\n    if (msg === '') return;\n    const reqData = {\n      msg: msg,\n      roomName: props.roomName\n    };\n    axios\n      .post(`${global.config.backendURL}/api/room/sendmessage`, reqData, {\n        headers: {\n          'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n        }\n      })\n      .then((res) => {\n        console.log(res);\n        // window.location.reload();\n        props.callback(res.data.msg);\n        setMsg('');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  return (\n    <div className=\"compose bg-dark\">\n      <textarea\n        type=\"text\"\n        className=\"md-textarea form-control\"\n        placeholder=\"Type a message, @name\"\n        value={msg}\n        onKeyDown={(e) => {\n          if (e.keyCode === 13) sendMessage();\n        }}\n        onChange={(e) => {\n          setMsg(e.target.value);\n        }}\n        style={styleSheet.inputStyles}\n      />\n      <button className=\"compose-button\" onClick={sendMessage}>\n        <span className=\"icon cui-chevron-right\"></span>\n      </button>\n\n      {props.rightItems}\n    </div>\n  );\n}\n\nconst styleSheet = {\n  inputStyles: {\n    borderRadius: '50px',\n    backgroundColor: 'white',\n    marginRight: '5px',\n    borderWidth: '2.5px',\n    borderColor: 'black'\n  },\n  composeStyles: {\n    backgroundColor: 'transparent',\n    border: 0,\n    position: 'fixed',\n    bottom: '5',\n    margin: 0,\n    padding: 0\n  },\n  buttonStyles: {\n    backgroundColor: 'black'\n  }\n};\n","import React from 'react';\nimport './Toolbar.css';\n\nexport default function Toolbar(props) {\n  const { title, leftItems, rightItems } = props;\n  return (\n    <div className=\"toolbar bg-dark\">\n      <div className=\"left-items\">{leftItems}</div>\n      <h1 className=\"toolbar-title\">{title}</h1>\n      <div className=\"right-items\">{rightItems}</div>\n    </div>\n  );\n}\n","import React from 'react';\nimport './ToolbarButton.css';\n\nexport default function ToolbarButton(props) {\n  const { icon } = props;\n  return <i className={`toolbar-button ${icon}`} />;\n}\n","import React from 'react';\nimport moment from 'moment';\nimport './Message.css';\n\nexport default function Message(props) {\n  const { data, isMine, startsSequence, endsSequence, showTimestamp } = props;\n  const friendlyTimestamp = moment(data.timestamp).format('LLLL');\n  return (\n    <div\n      className={[\n        'message',\n        `${isMine ? 'mine' : ''}`,\n        `${startsSequence ? 'start' : ''}`,\n        `${endsSequence ? 'end' : ''}`\n      ].join(' ')}>\n      {showTimestamp && <div className=\"timestamp bg-dark\">{friendlyTimestamp}</div>}\n\n      <div className=\"bubble-container\">\n        <b className={['sendBy', `${isMine}`].join(' ')}>{!isMine && data.sender}</b>\n        <div\n          className={['bubble', `${isMine ? 'mine' : ''}`].join(' ')}\n          title={friendlyTimestamp}>\n          {data.msg}\n        </div>\n        <b>{isMine && data.sender}</b>\n      </div>\n    </div>\n  );\n}\n","import socketIOClient from 'socket.io-client';\nimport React, { Component } from 'react';\nimport { store } from 'react-notifications-component';\nimport { AwesomeButtonProgress } from 'react-awesome-button';\nimport 'react-awesome-button/dist/styles.css';\nimport { connect } from 'react-redux';\nimport {\n  Nav,\n  NavItem,\n  NavLink,\n  Progress,\n  TabContent,\n  TabPane,\n  ListGroup,\n  ListGroupItem,\n  Spinner,\n  Jumbotron,\n  Button,\n  ButtonGroup,\n  Badge,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Container,\n  Row,\n  Collapse,\n  Fade\n} from 'reactstrap';\nimport classNames from 'classnames';\nimport { AppSwitch } from '@coreui/react';\nimport MessageView from '../../views/MessageList/index';\n\n// import Peer from \"../../dependencies/peerjs/index.d.ts\";\nimport Peer from 'peerjs';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport './Controls.css';\nconst socket = socketIOClient(`${global.config.backendURL}/`);\n\nclass Controls extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myIds: [0, 0],\n      myPeers: [0, 0],\n      roomName: this.props.roomName,\n      // Use Sets instead of Arrays to prevent duplicates.\n      remotePeers: new Set(),\n      remotePeersID: new Set(),\n      calls: new Array(),\n      connectedPeers: new Set(),\n      friendtkn: '',\n      myUsername: ''\n    };\n    console.log(this.state.roomName);\n    this.startScreenShare = this.startScreenShare.bind(this);\n    this.startConnection = this.startConnection.bind(this);\n    this.sendCallEndedSignal = this.sendCallEndedSignal.bind(this);\n\n    this.endCall = this.endCall.bind(this);\n  }\n\n  componentWillUnmount() {\n    this.endCall(() => console.log('Call ended'));\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(prevProps);\n    console.log(this.props.roomName);\n    if (this.props.roomName !== prevProps.roomName) {\n      this.setState({\n        roomName: this.props.roomName\n      });\n      this.endCall();\n    }\n  }\n\n  createNotif = (title, msg, type) => {\n    store.addNotification({\n      title: title,\n      message: msg,\n      type: type,\n      container: 'top-right',\n      animationIn: ['animated', 'fadeIn'],\n      animationOut: ['animated', 'fadeOut'],\n      dismiss: {\n        duration: 3000,\n        pauseOnHover: true\n      }\n    });\n  };\n\n  switchContext = (e) => {\n    if (e.target) e = e.target;\n    try {\n      const context = document.getElementById('context');\n      if (e.srcObject == context.srcObject) return;\n      const username = e.nextElementSibling.innerText;\n      context.style.display = 'inline';\n      context.poster =\n        'https://dummyimage.com/1024x576/2f353a/ffffff.jpg&text=' + username;\n      context.srcObject = e.srcObject;\n      context.play();\n      $('#context').removeClass().addClass(e.id);\n    } catch (err) {\n      console.log('The selected stream is old');\n      console.log(err);\n    }\n  };\n\n  createPeer(id) {\n    var peer = new Peer(id, {\n      host: 'localhost',\n      port: 9000,\n      path: '/peerserver',\n      config: {\n        iceServers: [\n          { urls: 'stun:stun.l.google.com:19302' },\n          {\n            url: 'turn:numb.viagenie.ca',\n            credential: 'HWeF3pu@u2RfeYD',\n            username: 'veddandekar6@gmail.com'\n          }\n        ]\n      } /* Sample servers, please use appropriate ones */\n    });\n    return peer;\n  }\n  updateSelfPeerInfo(self, peer, id, type) {\n    console.log(self.state);\n    var isVideo = type === 'video' ? 1 : 0;\n    console.log(isVideo);\n    if (self.state.myPeers[isVideo] !== 0) {\n      self.state.myPeers[isVideo].destroy();\n      self.deleteAllVideoElements();\n      self.setState({\n        calls: new Array()\n      });\n    }\n    var peers = self.state.myPeers;\n    var myIDs = self.state.myIds;\n    peers[isVideo] = peer;\n    myIDs[isVideo] = id;\n    self.setState({\n      myPeers: peers,\n      myIds: myIDs\n    });\n    console.log(self.state);\n  }\n\n  async startScreenShare(type, next) {\n    const self = this;\n    var tkn;\n    // Get a new peerId.\n    var peer = self.createPeer();\n\n    // Upload the PeerID to the server, get an old ID, if it exists to be used\n    await peer.on('open', function (id) {\n      tkn = id;\n      const reqData = {\n        roomName: self.state.roomName,\n        tkn: tkn,\n        type: type\n      };\n      axios\n        .post(`${global.config.backendURL}/api/room/goonline`, reqData, {\n          headers: {\n            'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n          }\n        })\n        .then((res) => {\n          console.log(res);\n          var onlineArray = res.data.online;\n          if (res.data.changePeer) {\n            // Kept for backward compatibility. Will not execute with latest commit.\n            peer.destroy();\n            peer = self.createPeer(res.data.changePeer);\n            console.log(peer.disconnected);\n            console.log('Using old Id');\n            console.log(peer.connections);\n            if (peer.disconnected) {\n              peer.reconnect();\n              console.log('peer was disconnected, reconnecting...');\n              peer.on('open', function (id) {\n                console.log('reconnected');\n                console.log('My token: ' + id);\n                console.log('using older id: ' + id);\n                self.setUpConnections(self, peer, id, type, onlineArray);\n              });\n            } else {\n              peer.reconnect();\n              self.setUpConnections(self, peer, id, type, onlineArray);\n            }\n            next();\n          } else {\n            console.log('My token: ' + id);\n            self.updateSelfPeerInfo(self, peer, id, type);\n            /*\n    var peers = self.state.myPeers;\n    var myIDs = self.state.myIds;\n    peers.add(peer);\n    myIDs.add(id);\n    self.setState({\n      myPeers: peers,\n      myIds: myIDs,\n    });\n    */\n            console.log(self.state);\n            self.setUpConnections(self, peer, id, type, onlineArray);\n            next();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          next(false, 'Failed');\n        });\n    });\n  }\n\n  setUpConnections(self, peer, id, type, onlineArray) {\n    self.getMyMediaStream(self, type).then((media) => {\n      // Wait for new incoming connections.\n      self.waitForConnections(self, peer);\n\n      // Make requests to currently online users.\n\n      onlineArray.forEach((val, index) => {\n        if (val.username === this.props.username && val.type === type) {\n          return;\n        }\n        console.log('Connecting to ' + onlineArray[index].tkn);\n        self.startConnection(self, onlineArray[index].tkn, peer);\n      });\n    });\n  }\n\n  // Function to get the media stream for the user and store it in state so that it\n  // can be used multiple times without requiring permission.\n  async getMyMediaStream(self, type) {\n    if (type === 'screen') {\n      // TODO: Add try catch to handle case when user denies access\n\n      await navigator.mediaDevices\n        .getDisplayMedia({\n          video: { width: 1024, height: 576 },\n          audio: true\n        })\n        .then((media) => {\n          self.setState({\n            myMediaStreamObj: media\n          });\n          self.createVideoElement(self, media, 'me');\n          return media;\n        });\n    } else if (type === 'video') {\n      // TODO: Add try catch to handle case when user denies access\n\n      await navigator.mediaDevices\n        .getUserMedia({\n          video: { width: 1024, height: 576 },\n          audio: true\n        })\n        .then((media) => {\n          self.setState({\n            myMediaStreamObj: media\n          });\n          self.createVideoElement(self, media, 'me');\n          return media;\n        });\n    }\n  }\n\n  // Asynchronous function to start a connection to peer with ID friendtkn.\n  // The media stream to be used is chosen from this.state.myMediaStreamObj\n  async startConnection(self, friendtkn, peer) {\n    console.log('starting connection with ' + friendtkn);\n    // console.log(friendtkn);\n    var mediaa = self.state.myMediaStreamObj;\n    console.log(mediaa);\n    self.sendMediaStream(self, peer, mediaa, friendtkn, false);\n    /*\nvar connectedPeers = self.state.connectedPeers;\nconnectedPeers.add(friendtkn);\nself.setState({\nconnectedPeers: connectedPeers,\n});\n*/\n  }\n\n  // Function to wait for incoming requests onf 'peer' and handle them.\n  waitForConnections(self, peer) {\n    console.log('Waiting for connections....');\n    var mediaa = self.state.myMediaStreamObj;\n    peer.on('call', function (call) {\n      self.sendMediaStream(self, peer, mediaa, null, true, call);\n      /* This logic just hides the duplicate connections. For better performance.\n       * Duplicate connections should be closed. */\n      // calls.add(thiscall);\n      /*\nvar calls = self.state.calls;\nconsole.log(calls);\nvar duplicateCall = false;\ncalls.forEach((val, index) => {\nconsole.log('checking with ' + val.peer);\nif(val.peer == call.peer) {\n        duplicateCall = val;\n        return;\n}\n});\nif(duplicateCall) {\nconsole.log('closing a duplicate call.');\nconsole.log(duplicateCall.peer);\n//      calls.delete(duplicateCall);\nduplicateCall.close();\n}\n//calls.add(call);\nconsole.log(calls);\nself.setState(\n{\n//call: peer.call(friendtkn, media),//to be updated appropriately\ncalls: [...self.state.calls, call],\n//calls: calls,\n},\n);\n*/\n      /*\nvar connectedPeers = self.state.connectedPeers;\nconnectedPeers.add(call.peer);\nself.setState({\nconnectedPeers: connectedPeers,\n});\n*/\n    });\n  }\n\n  // Function to send the mediaStream passed through media. if isAnswer is true,\n  // the mediaStream is sent as an answer to the 'call' object, otherwise a new call is created.\n  sendMediaStream(self, peer, media, friendtkn, isAnswer, call) {\n    if (isAnswer) {\n      friendtkn = call.peer;\n      console.log('Connected to ' + friendtkn);\n      console.log(call.metadata);\n      this.createNotif('Member joined', `${call.metadata} joined the call`, 'info');\n    }\n    var tracks = media.getTracks();\n    var track = tracks[0];\n    var thiscall = call;\n\n    // triggered when our stream being sent ends.\n    track.addEventListener('ended', () => {\n      console.log('My stream ended. Please show this');\n      thiscall.close();\n      self.deleteVideoElement(thiscall.peer);\n      // self.sendRequestToEndCall();\n      // self.startConnection(friendtkn, peer, self);\n    });\n\n    // Can't figure out the exact conditions which cause this event to be handled,\n    // but this handler maybe useful, if we are enabling and disabling streams.\n    track.addEventListener('mute', () => {\n      console.log('My stream muted. Please show this');\n    });\n\n    if (isAnswer) {\n      thiscall.answer(media);\n    } else {\n      console.log(media.getTracks());\n      thiscall = peer.call(friendtkn, media, { metadata: this.state.myUsername });\n    }\n    self.addHandlersToCall(\n      self,\n      thiscall,\n      friendtkn,\n      thiscall.metadata,\n      peer,\n      isAnswer\n    );\n    //console.log('exit4d');\n  }\n\n  // Add Event handlers to the thiscall call - error, stream used as of now.\n  addHandlersToCall(self, thiscall, friendtkn, username, peer, isAnswer) {\n    // Triggered when an error is observed in connection.\n    thiscall.on('error', (err) => {\n      // TODO: Add condition to close the connection.\n      console.log('Connection failed for ' + friendtkn);\n      console.log(friendtkn);\n      console.log(err);\n      thiscall.close();\n      self.deleteVideoElement(thiscall.peer);\n      // self.startConnection(self, friendtkn, peer);\n\n      // If an error is observed, we automatically send another request to start connection,\n      // to provide reliability. Since, we dont want both the receiver and username of the stream\n      // to send new calls, only the receiver initiates a new connection.\n      if (!isAnswer) {\n        console.log(friendtkn);\n        // self.startConnection(self, friendtkn, peer);\n      }\n    });\n\n    // Triggered when receiving a stream from peer.\n    thiscall.on('stream', function (stream) {\n      console.log(stream.getTracks());\n      console.log('stream received from' + thiscall.peer);\n      var calls = self.state.calls;\n      console.log(calls);\n      var duplicateCall = false;\n      var duplicateCallIndex = -1;\n      calls.forEach((val, index) => {\n        console.log('checking with ' + val.peer);\n        if (val.peer === thiscall.peer) {\n          duplicateCallIndex = index;\n          duplicateCall = val;\n        }\n      });\n      /* Check with my tokens to prevent self calls when having both video and screen. */\n      console.log(self.state.myIds);\n      self.state.myIds.forEach((val, index) => {\n        console.log('checking with ' + val);\n        if (val === thiscall.peer) {\n          duplicateCallIndex = index;\n          duplicateCall = val;\n        }\n      });\n      if (duplicateCall) {\n        console.log('closing a duplicate call.');\n        console.log(duplicateCall.peer);\n        //      calls.delete(duplicateCall);\n        // calls.splice(duplicateCallIndex, 1);\n        // duplicateCall.close();\n      }\n      // calls.add(call);\n      console.log(calls);\n      console.log(thiscall);\n      self.setState({\n        // call: peer.call(friendtkn, media),//to be updated appropriately\n        calls: [...calls, thiscall]\n        // calls: calls,\n      });\n      self.createStream(self, stream, friendtkn, username);\n    });\n  }\n\n  // Add event handlers to the incoming stream and do some other processing,\n  // before being sent to the video object to be displayed on screen.\n  createStream(self, stream, friendtkn, username) {\n    var tracks = stream.getTracks();\n    var track = tracks[0];\n\n    // Experimental event handler - to be removed.\n    stream.onremovetrack = function (evt) {\n      console.log('Track removed');\n      console.log(evt);\n    };\n\n    // console.log(track.remote);\n\n    // These handlers being added are to the incoming stream we are receiving, while\n    // the handlers added before were to the stream which we were sending.\n\n    // triggered when the remote stream being received ends due to connection error\n    track.addEventListener('ended', () => {\n      console.log('Receiving stream ended. Please show this');\n    });\n\n    // Can't figure out the exact conditions which cause this event to be handled,\n    // but this handler maybe useful, if we are enabling and disabling streams.\n    track.addEventListener('mute', () => {\n      console.log('muted. Please show this');\n    });\n\n    console.log(stream.getTracks());\n\n    self.createVideoElement(self, stream, friendtkn, username);\n\n    // self.videoRef.current.srcObject = stream;\n  }\n\n  // Creates a new video element to show the stream passed to it.\n  createVideoElement(self, stream, friendtkn, username) {\n    const wrapper = document.createElement('div');\n    const video = document.createElement('video');\n    const nameTag = document.createElement('div');\n    const context = document.getElementById('context');\n    nameTag.classList.add('name-label');\n    nameTag.innerText = username || 'me';\n    video.width = '200';\n    video.id = friendtkn;\n    if (video.id == 'me') {\n      video.muted = 'true';\n    }\n    video.height = '350';\n    video.srcObject = stream;\n    video.autoplay = true;\n    video.onclick = self.switchContext;\n    wrapper.appendChild(video);\n    wrapper.appendChild(nameTag);\n    document.getElementById('videos').appendChild(wrapper);\n    if (!context.srcObject) self.switchContext(document.getElementById(friendtkn));\n  }\n\n  clearContext() {\n    const context = document.getElementById('context');\n    if (context != null) {\n      context.srcObject = null;\n      context.style.display = 'none';\n    }\n  }\n\n  deleteVideoElement(id) {\n    const video = document.getElementById(id);\n    const context = $('#context');\n    if (video) {\n      video.nextElementSibling.remove();\n      video.remove();\n    }\n    if (context.hasClass(id)) {\n      this.clearContext();\n    }\n  }\n\n  deleteAllVideoElements() {\n    /*\nlet videos = document.getElementById(\"videos\");\nvideos.empty();\n*/\n    $('#videos').empty();\n    //$('#context').empty();\n    this.clearContext();\n  }\n\n  sendCallEndedSignal() {\n    const reqData = {\n      roomName: this.state.roomName\n    };\n    axios\n      .post(`${global.config.backendURL}/api/room/exitstream`, reqData, {\n        headers: {\n          'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n        }\n      })\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  sendRequestToEndCall(next) {\n    const reqData = {\n      roomName: this.state.roomName\n    };\n    axios\n      .post(`${global.config.backendURL}/api/room/exitstream`, reqData, {\n        headers: {\n          'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n        }\n      })\n      .then((res) => {\n        console.log(res.data);\n        var idToBeDestroyed = res.data.idToBeDestroyed;\n        console.log(this.state.myPeers);\n        this.state.myPeers.forEach((val, index) => {\n          if (val) {\n            val.destroy();\n          }\n        });\n        // Clear all state variables associated with calls.\n        this.setState({\n          myIds: [0, 0],\n          myPeers: [0, 0],\n          // Use Sets instead of Arrays to prevent duplicates.\n          remotePeers: new Set(),\n          remotePeersID: new Set(),\n          calls: new Array(),\n          connectedPeers: new Set(),\n          friendtkn: ''\n        });\n        if (next) {\n          next();\n        }\n        return;\n      })\n      .catch((err) => {\n        console.log(err);\n        if (next) {\n          next(false, 'Error');\n        }\n        return;\n      });\n  }\n\n  async endCall(next) {\n    await this.sendRequestToEndCall(next);\n    if (this.state.myMediaStreamObj) {\n      this.state.myMediaStreamObj.getTracks().forEach((track) => {\n        console.log(track);\n        track.stop();\n      });\n      this.state.myMediaStreamObj.getTracks().forEach((track) => {\n        this.state.myMediaStreamObj.removeTrack(track);\n      });\n      this.setState({\n        myMediaStreamObj: null\n      });\n    }\n    // Add by appropriate UI changes which clears the screen.\n    this.deleteAllVideoElements();\n  }\n\n  render() {\n    const self = this;\n    return (\n      <Container>\n        <br />\n        <br />\n        <Row className=\"justify-content-center text-center\">\n          <AwesomeButtonProgress\n            type=\"primary\"\n            size=\"medium\"\n            action={(element, next) => {\n              this.startScreenShare('video', next);\n            }}>\n            <i className=\"icon-user icons\"></i>\n            <span> Video</span>\n          </AwesomeButtonProgress>\n          <AwesomeButtonProgress\n            type=\"primary\"\n            size=\"medium\"\n            action={(element, next) => this.startScreenShare('screen', next)}>\n            <i className=\"icon-screen-desktop icons\"></i>\n            <span> Screen</span>\n          </AwesomeButtonProgress>\n          <AwesomeButtonProgress\n            type=\"primary\"\n            size=\"medium\"\n            // visible={!self.state.calls.length} //use this if we want it completely hidden until needed instead\n            disabled={!self.state.myMediaStreamObj}\n            action={(element, next) => {\n              this.endCall(next);\n            }}>\n            <i className=\"icon-call-end icons\"></i>\n            <span> End Call</span>\n          </AwesomeButtonProgress>\n        </Row>\n        <br />\n      </Container>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log(state);\n  return {\n    username: state.loginReducer.username\n  };\n};\n\nexport default connect(mapStateToProps)(Controls);\n","import React, { Component, lazy, Suspense } from 'react';\nimport { store } from 'react-notifications-component';\nimport { Bar, Line } from 'react-chartjs-2';\nimport socketIOClient from 'socket.io-client';\nimport axios from 'axios';\nimport {\n  Badge,\n  Button,\n  ButtonDropdown,\n  ButtonGroup,\n  ButtonToolbar,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n  Col,\n  Container,\n  Dropdown,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  ListGroup,\n  ListGroupItem,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Tooltip,\n  UncontrolledTooltip,\n  Jumbotron,\n  Progress,\n  Row,\n  Spinner,\n  Table,\n  Label\n} from 'reactstrap';\nimport './MemberList.css';\nconst socket = socketIOClient(`${global.config.backendURL}/`);\n\nclass MemberList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      guests: [],\n      newmember: '',\n      modal: false\n    };\n    this.toggle = this.toggle.bind(this);\n    this.addMember = this.addMember.bind(this);\n    this.handleNewMemberChange = this.handleNewMemberChange.bind(this);\n    this.shareLink = this.shareLink.bind(this);\n    /*\n    socket.on('userJoined', (data) => {\n      if (this.state.roomName !== 'dashboard') {\n        // YET TO BE TESTED\n        this.getActive();\n      }\n    });\n    socket.on('userOnline', (data) => {\n      if (this.state.roomName !== 'dashboard') this.getActive();\n    });\n    socket.on('userExit', (data) => {\n      if (this.state.roomName !== 'dashboard') this.getActive();\n    });\n    */\n  }\n\n  shareLink() {\n    const link = document.querySelector('link[rel=canonical]')\n      ? document.querySelector('link[rel=canonical]').href\n      : document.location.href;\n    if (navigator.share) {\n      navigator\n        .share({\n          title: 'Join via Link',\n          url: link\n        })\n        .then(() => {\n          console.log('Link Shared!');\n        })\n        .catch(console.error);\n    } else {\n      navigator.clipboard\n        .writeText(link)\n        .then(() => {\n          store.addNotification({\n            title: 'Link copied',\n            message: 'Link copied to clipboard!',\n            type: 'success',\n            container: 'top-right',\n            animationIn: ['animated', 'fadeIn'],\n            animationOut: ['animated', 'fadeOut'],\n            dismiss: {\n              duration: 3000,\n              pauseOnHover: true\n            }\n          });\n        })\n        .catch(console.log('Sorry try again'));\n    }\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  addMember() {\n    const reqData = {\n      username: this.state.newmember,\n      roomName: this.props.roomName\n    };\n    console.log(reqData);\n    axios\n      .post(`${global.config.backendURL}/api/room/addusertoroom`, reqData, {\n        headers: {\n          'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n        }\n      })\n      .then((res) => {\n        console.log(res);\n        if (res.status == 200) {\n          this.toggle();\n          this.setState({\n            users: [...this.state.users, reqData.username]\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  handleNewMemberChange(e) {\n    this.setState({\n      newmember: e.target.value\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.users !== prevProps.users) {\n      this.setState({\n        users: this.props.users\n      });\n    }\n    if (this.props.guests !== prevProps.guests) {\n      this.setState({\n        guests: this.props.guests\n      });\n    }\n  }\n\n  loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>;\n\n  render() {\n    return (\n      <Container id=\"memberlist\">\n        <Row>\n          <Col>\n            <h3> Members </h3>\n          </Col>\n          <Col>\n            {/* <button class=\"btn-danger\"> */}\n            <i\n              style={{ cursor: 'pointer' }}\n              class=\"fa fa-user-plus\"\n              onClick={this.toggle}>\n              {' '}\n              Add\n            </i>\n            {/* </button> */}\n          </Col>\n        </Row>\n        <h5> Admins </h5>\n        <ListGroup flush>\n          {this.state.users && this.state.users.length > 0\n            ? this.state.users.map((user) => {\n                return (\n                  <ListGroupItem className=\"bg-dark\" key={Math.random()}>\n                    {user}\n                  </ListGroupItem>\n                );\n              })\n            : 'No members yet'}\n        </ListGroup>\n        <br />\n        <ListGroup flush>\n          <h5> Guests </h5>\n          {this.state.guests && this.state.guests.length > 0\n            ? this.state.guests.map((user) => {\n                return (\n                  <ListGroupItem className=\"bg-dark\" key={Math.random()}>\n                    {user}\n                  </ListGroupItem>\n                );\n              })\n            : 'No guests yet'}\n        </ListGroup>\n\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader className=\"bg-dark\" toggle={this.toggle}>\n            Add Members\n          </ModalHeader>\n          <ModalBody className=\"bg-dark\">\n            <Form>\n              <h4>Existing Members</h4>\n              <InputGroup className=\"ml-2\">\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText className=\"bg-dark\">\n                    <i className=\"icon-user\"></i>\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  type=\"text\"\n                  className=\"mr-2 bg-dark text-light\"\n                  placeholder=\"Username\"\n                  autoComplete=\"username\"\n                  value={this.state.newmember}\n                  onChange={this.handleNewMemberChange}\n                />{' '}\n                <Button color=\"primary\" onClick={this.addMember}>\n                  Add\n                </Button>\n              </InputGroup>\n              <br />\n              <h4>Invite Guests</h4>\n              <Label>Share the following link with the guest</Label>\n              <Jumbotron\n                style={{ cursor: 'pointer' }}\n                className=\"p-2 m-2 bg-secondary text-dark\"\n                id=\"linkHere\"\n                onClick={this.shareLink}>\n                {document.querySelector('link[rel=canonical]')\n                  ? document.querySelector('link[rel=canonical]').href\n                  : document.location.href}\n              </Jumbotron>\n              <UncontrolledTooltip placement=\"bottom\" target=\"linkHere\">\n                Click to share\n              </UncontrolledTooltip>\n            </Form>\n          </ModalBody>\n          <ModalFooter className=\"bg-dark\">\n            <Button color=\"success\" onClick={this.toggle}>\n              Close\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </Container>\n    );\n  }\n}\n\nexport default MemberList;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread2 from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Popper } from 'react-popper';\nimport { DropdownContext } from './DropdownContext';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  children: PropTypes.node.isRequired,\n  right: PropTypes.bool,\n  flip: PropTypes.bool,\n  modifiers: PropTypes.object,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  persist: PropTypes.bool,\n  positionFixed: PropTypes.bool\n};\nvar defaultProps = {\n  tag: 'div',\n  flip: true\n};\nvar noFlipModifier = {\n  flip: {\n    enabled: false\n  }\n};\nvar directionPositionMap = {\n  up: 'top',\n  left: 'left',\n  right: 'right',\n  down: 'bottom'\n};\n\nvar DropdownMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DropdownMenu, _React$Component);\n\n  function DropdownMenu() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DropdownMenu.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        right = _this$props.right,\n        tag = _this$props.tag,\n        flip = _this$props.flip,\n        modifiers = _this$props.modifiers,\n        persist = _this$props.persist,\n        positionFixed = _this$props.positionFixed,\n        attrs = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"right\", \"tag\", \"flip\", \"modifiers\", \"persist\", \"positionFixed\"]);\n\n    var classes = mapToCssModules(classNames(className, 'dropdown-menu', {\n      'dropdown-menu-right': right,\n      show: this.context.isOpen\n    }), cssModule);\n    var Tag = tag;\n\n    if (persist || this.context.isOpen && !this.context.inNavbar) {\n      var position1 = directionPositionMap[this.context.direction] || 'bottom';\n      var position2 = right ? 'end' : 'start';\n      var poperPlacement = position1 + \"-\" + position2;\n      var poperModifiers = !flip ? _objectSpread2({}, modifiers, {}, noFlipModifier) : modifiers;\n      var popperPositionFixed = !!positionFixed;\n      return React.createElement(Popper, {\n        placement: poperPlacement,\n        modifiers: poperModifiers,\n        positionFixed: popperPositionFixed\n      }, function (_ref) {\n        var ref = _ref.ref,\n            style = _ref.style,\n            placement = _ref.placement;\n        return React.createElement(Tag, _extends({\n          tabIndex: \"-1\",\n          role: \"menu\",\n          ref: ref,\n          style: style\n        }, attrs, {\n          \"aria-hidden\": !_this.context.isOpen,\n          className: classes,\n          \"x-placement\": placement\n        }));\n      });\n    }\n\n    return React.createElement(Tag, _extends({\n      tabIndex: \"-1\",\n      role: \"menu\"\n    }, attrs, {\n      \"aria-hidden\": !this.context.isOpen,\n      className: classes,\n      \"x-placement\": attrs.placement\n    }));\n  };\n\n  return DropdownMenu;\n}(React.Component);\n\n;\nDropdownMenu.propTypes = propTypes;\nDropdownMenu.defaultProps = defaultProps;\nDropdownMenu.contextType = DropdownContext;\nexport default DropdownMenu;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { DropdownContext } from './DropdownContext';\nimport { mapToCssModules, omit, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  tag: tagPropType,\n  header: PropTypes.bool,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.bool\n};\nvar defaultProps = {\n  tag: 'button',\n  toggle: true\n};\n\nvar DropdownItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DropdownItem, _React$Component);\n\n  function DropdownItem(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.getTabIndex = _this.getTabIndex.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = DropdownItem.prototype;\n\n  _proto.onClick = function onClick(e) {\n    if (this.props.disabled || this.props.header || this.props.divider) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n\n    if (this.props.toggle) {\n      this.context.toggle(e);\n    }\n  };\n\n  _proto.getTabIndex = function getTabIndex() {\n    if (this.props.disabled || this.props.header || this.props.divider) {\n      return '-1';\n    }\n\n    return '0';\n  };\n\n  _proto.render = function render() {\n    var tabIndex = this.getTabIndex();\n    var role = tabIndex > -1 ? 'menuitem' : undefined;\n\n    var _omit = omit(this.props, ['toggle']),\n        className = _omit.className,\n        cssModule = _omit.cssModule,\n        divider = _omit.divider,\n        Tag = _omit.tag,\n        header = _omit.header,\n        active = _omit.active,\n        props = _objectWithoutPropertiesLoose(_omit, [\"className\", \"cssModule\", \"divider\", \"tag\", \"header\", \"active\"]);\n\n    var classes = mapToCssModules(classNames(className, {\n      disabled: props.disabled,\n      'dropdown-item': !divider && !header,\n      active: active,\n      'dropdown-header': header,\n      'dropdown-divider': divider\n    }), cssModule);\n\n    if (Tag === 'button') {\n      if (header) {\n        Tag = 'h6';\n      } else if (divider) {\n        Tag = 'div';\n      } else if (props.href) {\n        Tag = 'a';\n      }\n    }\n\n    return React.createElement(Tag, _extends({\n      type: Tag === 'button' && (props.onClick || this.props.toggle) ? 'button' : undefined\n    }, props, {\n      tabIndex: tabIndex,\n      role: role,\n      className: classes,\n      onClick: this.onClick\n    }));\n  };\n\n  return DropdownItem;\n}(React.Component);\n\nDropdownItem.propTypes = propTypes;\nDropdownItem.defaultProps = defaultProps;\nDropdownItem.contextType = DropdownContext;\nexport default DropdownItem;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from 'react';\nimport warning from 'warning';\nimport { ManagerReferenceNodeSetterContext } from './Manager';\nimport { safeInvoke, unwrapArray, setRef } from './utils';\n\nvar InnerReference =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InnerReference, _React$Component);\n\n  function InnerReference() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"refHandler\", function (node) {\n      setRef(_this.props.innerRef, node);\n      safeInvoke(_this.props.setReferenceNode, node);\n    });\n\n    return _this;\n  }\n\n  var _proto = InnerReference.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    setRef(this.props.innerRef, null);\n  };\n\n  _proto.render = function render() {\n    warning(Boolean(this.props.setReferenceNode), '`Reference` should not be used outside of a `Manager` component.');\n    return unwrapArray(this.props.children)({\n      ref: this.refHandler\n    });\n  };\n\n  return InnerReference;\n}(React.Component);\n\nexport default function Reference(props) {\n  return React.createElement(ManagerReferenceNodeSetterContext.Consumer, null, function (setReferenceNode) {\n    return React.createElement(InnerReference, _extends({\n      setReferenceNode: setReferenceNode\n    }, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Reference } from 'react-popper';\nimport { DropdownContext } from './DropdownContext';\nimport { mapToCssModules, tagPropType } from './utils';\nimport Button from './Button';\nvar propTypes = {\n  caret: PropTypes.bool,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  'aria-haspopup': PropTypes.bool,\n  split: PropTypes.bool,\n  tag: tagPropType,\n  nav: PropTypes.bool\n};\nvar defaultProps = {\n  'aria-haspopup': true,\n  color: 'secondary'\n};\n\nvar DropdownToggle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DropdownToggle, _React$Component);\n\n  function DropdownToggle(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = DropdownToggle.prototype;\n\n  _proto.onClick = function onClick(e) {\n    if (this.props.disabled || this.context.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.nav && !this.props.tag) {\n      e.preventDefault();\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n\n    this.context.toggle(e);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        className = _this$props.className,\n        color = _this$props.color,\n        cssModule = _this$props.cssModule,\n        caret = _this$props.caret,\n        split = _this$props.split,\n        nav = _this$props.nav,\n        tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"color\", \"cssModule\", \"caret\", \"split\", \"nav\", \"tag\", \"innerRef\"]);\n\n    var ariaLabel = props['aria-label'] || 'Toggle Dropdown';\n    var classes = mapToCssModules(classNames(className, {\n      'dropdown-toggle': caret || split,\n      'dropdown-toggle-split': split,\n      'nav-link': nav\n    }), cssModule);\n    var children = props.children || React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, ariaLabel);\n    var Tag;\n\n    if (nav && !tag) {\n      Tag = 'a';\n      props.href = '#';\n    } else if (!tag) {\n      Tag = Button;\n      props.color = color;\n      props.cssModule = cssModule;\n    } else {\n      Tag = tag;\n    }\n\n    if (this.context.inNavbar) {\n      return React.createElement(Tag, _extends({}, props, {\n        className: classes,\n        onClick: this.onClick,\n        \"aria-expanded\": this.context.isOpen,\n        children: children\n      }));\n    }\n\n    return React.createElement(Reference, {\n      innerRef: innerRef\n    }, function (_ref) {\n      var _ref2;\n\n      var ref = _ref.ref;\n      return React.createElement(Tag, _extends({}, props, (_ref2 = {}, _ref2[typeof Tag === 'string' ? 'ref' : 'innerRef'] = ref, _ref2), {\n        className: classes,\n        onClick: _this2.onClick,\n        \"aria-expanded\": _this2.context.isOpen,\n        children: children\n      }));\n    });\n  };\n\n  return DropdownToggle;\n}(React.Component);\n\nDropdownToggle.propTypes = propTypes;\nDropdownToggle.defaultProps = defaultProps;\nDropdownToggle.contextType = DropdownContext;\nexport default DropdownToggle;","module.exports = \"data:image/png;base64,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\"","import _objectSpread2 from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nimport { omit } from './utils';\nvar omitKeys = ['defaultOpen'];\n\nvar UncontrolledDropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(UncontrolledDropdown, _Component);\n\n  function UncontrolledDropdown(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      isOpen: props.defaultOpen || false\n    };\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = UncontrolledDropdown.prototype;\n\n  _proto.toggle = function toggle(e) {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n\n    if (this.props.onToggle) {\n      this.props.onToggle(e, !this.state.isOpen);\n    }\n  };\n\n  _proto.render = function render() {\n    return React.createElement(Dropdown, _extends({\n      isOpen: this.state.isOpen,\n      toggle: this.toggle\n    }, omit(this.props, omitKeys)));\n  };\n\n  return UncontrolledDropdown;\n}(Component);\n\nexport { UncontrolledDropdown as default };\nUncontrolledDropdown.propTypes = _objectSpread2({\n  defaultOpen: PropTypes.bool,\n  onToggle: PropTypes.func\n}, Dropdown.propTypes);","import React, { Component } from 'react';\nimport { Link, NavLink, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  Badge,\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Nav,\n  NavItem,\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Form,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Input,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Row\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport { AppAsideToggler, AppNavbarBrand, AppSidebarToggler } from '@coreui/react';\nimport DefaultAside from './DefaultAside';\nimport logo from '../../assets/img/brand/logo.png';\n\nconst propTypes = {\n  children: PropTypes.node\n};\n\nconst defaultProps = {};\n\nclass DefaultHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n      friendid: '',\n      roomName: ''\n    };\n    this.toggle = this.toggle.bind(this);\n    this.handleFriendChange = this.handleFriendChange.bind(this);\n    this.handleRoomNameChange = this.handleRoomNameChange.bind(this);\n    this.addFriend = this.addFriend.bind(this);\n  }\n\n  componentDidMount() {\n    /* To be changed: Use Redux to get username. */\n    // axios\n    //   .get('http://localhost:5000/api/user/getUserName', {\n    //     headers: {\n    //       'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n    //     }\n    //   })\n    //   .then((resp) => {\n    //     console.log(resp.data.username);\n    //     this.setState({ username: resp.data.username });\n    //   })\n    //   .catch((err) => {\n    //     console.log(err, 'Error in Verifying JWT');\n    //     this.setState({ username: false });\n    //   });\n  }\n\n  addFriend() {\n    const reqData = {\n      user: this.state.friendid,\n      roomName: this.state.roomName\n    };\n    axios\n      .post(`${global.config.backendURL}/api/room/createroom`, reqData, {\n        headers: {\n          'milaap-auth-token': localStorage.getItem('milaap-auth-token')\n        }\n      })\n      .then((res) => {\n        console.log(res);\n        this.toggle();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  handleFriendChange(e) {\n    this.setState({\n      friendid: e.target.value\n    });\n  }\n\n  handleRoomNameChange(e) {\n    this.setState({\n      roomName: e.target.value\n    });\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    // eslint-disable-next-line\n    const { children, ...attributes } = this.props;\n\n    /* TODO: Use Protected Route component. */\n    if (!this.props.username) {\n      return <Redirect to=\"/login\" />; //Choose from landing and login page.\n    }\n    return (\n      <React.Fragment>\n        <AppSidebarToggler className=\"d-lg-none\" display=\"md\" mobile />\n        <AppNavbarBrand\n          full={{ src: logo, width: 65, height: 55 }}\n          minimized={{\n            src: logo,\n            width: 30,\n            height: 30\n          }}\n        />\n        <AppSidebarToggler className=\"d-md-down-none\" display=\"lg\" />\n\n        <Nav className=\"d-md-down-none\" navbar>\n          <NavItem className=\"px-3\">\n            <NavLink to=\"/dashboard\" className=\"nav-link\">\n              Dashboard\n            </NavLink>\n          </NavItem>\n          <NavItem className=\"px-3\">\n            <NavLink to=\"#\" className=\"nav-link\" onClick={this.toggle}>\n              Create Room\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <Nav className=\"ml-auto\" navbar>\n          {/* <NavItem className=\"d-md-down-none\">\n            <NavLink to=\"#\" className=\"nav-link\"><i className=\"icon-bell\"></i><Badge pill color=\"danger\">5</Badge></NavLink>\n          </NavItem>\n          <NavItem className=\"d-md-down-none\">\n            <NavLink to=\"#\" className=\"nav-link\"><i className=\"icon-list\"></i></NavLink>\n          </NavItem>\n          <NavItem className=\"d-md-down-none\">\n            <NavLink to=\"#\" className=\"nav-link\"><i className=\"icon-location-pin\"></i></NavLink>\n          </NavItem> */}\n          <UncontrolledDropdown nav direction=\"down\">\n            <DropdownToggle>\n              <NavItem>\n                <NavLink to=\"#\" className=\"nav-link text-dark\">\n                  {this.props.username}\n                </NavLink>\n              </NavItem>\n            </DropdownToggle>\n            <DropdownMenu right>\n              <DropdownItem header tag=\"div\" className=\"text-center\">\n                <strong>Account</strong>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-bell-o\"></i> Updates\n                <Badge color=\"info\">42</Badge>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-envelope-o\"></i> Messages\n                <Badge color=\"success\">42</Badge>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-tasks\"></i> Tasks\n                <Badge color=\"danger\">42</Badge>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-comments\"></i> Comments\n                <Badge color=\"warning\">42</Badge>\n              </DropdownItem>\n              <DropdownItem header tag=\"div\" className=\"text-center\">\n                <strong>Settings</strong>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-user\"></i> Profile\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-wrench\"></i> Settings\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-usd\"></i> Payments\n                <Badge color=\"secondary\">42</Badge>\n              </DropdownItem>\n              <DropdownItem>\n                <i className=\"fa fa-file\"></i> Projects\n                <Badge color=\"primary\">42</Badge>\n              </DropdownItem>\n              <DropdownItem divider />\n              <DropdownItem>\n                <i className=\"fa fa-shield\"></i> Lock Account\n              </DropdownItem>\n              <DropdownItem onClick={(e) => this.props.onLogout(e)}>\n                <i className=\"fa fa-lock\"></i> Logout\n              </DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n          <AppAsideToggler className=\"d-xs-none\" display=\"xs\" />\n        </Nav>\n\n        {/* Migrate the Modal to a new file. */}\n\n        <Modal\n          isOpen={this.state.modal}\n          toggle={this.toggle}\n          className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Create Room</ModalHeader>\n          <ModalBody>\n            <Form>\n              {/*\n              <InputGroup className=\"mb-3\">\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <i className=\"icon-user\"></i>\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  autoComplete=\"username\"\n                  value={this.state.friendid}\n                  onChange={this.handleFriendChange}\n                />\n              </InputGroup>\n              */}\n              <InputGroup className=\"mb-3\">\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <i className=\"icon-user\"></i>\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  type=\"text\"\n                  placeholder=\"Room Name\"\n                  autoComplete=\"roomname\"\n                  value={this.state.roomName}\n                  onChange={this.handleRoomNameChange}\n                />\n              </InputGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addFriend}>\n              Add\n            </Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nDefaultHeader.propTypes = propTypes;\nDefaultHeader.defaultProps = defaultProps;\n\nconst mapStateToProps = (state) => {\n  console.log(state);\n  return {\n    username: state.loginReducer.username\n  };\n};\n\nexport default connect(mapStateToProps)(DefaultHeader);\n"],"sourceRoot":""}