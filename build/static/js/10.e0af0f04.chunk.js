(this.webpackJsonpmilap=this.webpackJsonpmilap||[]).push([[10,13,57],{534:function(e,t,n){"use strict";(function(e){var a=n(163),r=n(164),o=n(166),s=n(165),i=n(1),c=n.n(i),l=n(547),u=n(549),m=n(551),d=n(553),f=n(541),g=n.n(f),p=(n(523),n(530)),h=n.n(p),v=n(112),b=(n(555),h()("".concat(e.config.backendURL,"/"))),y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).init=function(){},r.getReqData=function(){var e=r.state.messages;return{roomName:r.props.roomName,lastMsgId:e&&e.length>0?e[e.length-1].id+1:-1}},r.fetchMessages=function(){var e=arguments.length>1?arguments[1]:void 0,t=r.state.messages;if(delete e.room,void 0!==t&&null!==t&&void 0!==e&&null!==e){console.log("Inside");var n=t;n.push(e),r.setState({messages:n})}console.log("Inside fetch Message",r.state.messages,e)},r.renderMessages=function(){var e=r.state.messages;if(e){console.log(e),console.log(e.length);for(var t=0,n=e.length,a=[];t<n;){var o=e[t-1],s=e[t],i=e[t+1],l=s.sender===r.state.MY_USER_ID,u=g()(s.timestamp),m=!0,f=!0,p=!0;if(o){var h=g()(o.timestamp),v=g.a.duration(u.diff(h));o.author===s.author&&v.as("hours")<1&&(m=!1),v.as("hours")<1&&(p=!1)}if(i){var b=g()(i.timestamp),y=g.a.duration(b.diff(u));i.author===s.author&&y.as("hours")<1&&(f=!1)}1==n&&(f=!1),a.push(c.a.createElement(d.a,{key:t,isMine:l,startsSequence:m,endsSequence:f,showTimestamp:p,data:s})),t+=1}return console.log(a),a}console.log("no messages")},r.updateMsg=function(e){var t=[e],n=r.formatMsgs(t,!0);t=r.state.messages.concat(n),r.setState({messages:t})},r.state={MY_USER_ID:r.props.username,messages:r.props.msgs,change:!1,lastMsgId:0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({messages:this.props.msgs}),b.on("newMessage",(function(t){console.log("New Message Arrived",t,e.state.MY_USER_ID),"dashboard"!==e.props.roomName&&e.props.roomName==t.room&&void 0!==e.state.messages&&e.state.MY_USER_ID!==t.sender&&e.fetchMessages(!0,t)}))}},{key:"componentDidUpdate",value:function(e){window.scrollTo(0,document.querySelector("#message-list").scrollHeight),e.roomName!==this.props.roomName&&(this.setState({messages:this.props.msgs}),this.init())}},{key:"formatMsgs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.messages;return t&&(n=[]),e.forEach((function(e,t){var a={};a.id=e.id,a.sender=e.sender,a.msg=e.msg,a.timestamp=(new Date).getTime(),n.push(a)})),n}},{key:"render",value:function(){return c.a.createElement("div",{className:"message-list bg-dark"},c.a.createElement(u.a,{title:this.props.roomName}),c.a.createElement("div",{className:"message-list-container bg-dark",id:"message-list"},this.renderMessages()),c.a.createElement(l.a,{rightItems:[c.a.createElement(m.a,{key:"photo",icon:"ion-ios-camera"}),c.a.createElement(m.a,{key:"image",icon:"ion-ios-image"}),c.a.createElement(m.a,{key:"audio",icon:"ion-ios-mic"}),c.a.createElement(m.a,{key:"money",icon:"ion-ios-card"}),c.a.createElement(m.a,{key:"games",icon:"ion-logo-game-controller-b"}),c.a.createElement(m.a,{key:"emoji",icon:"ion-ios-happy"})],roomName:this.props.roomName,callback:this.updateMsg}))}}]),n}(i.Component);t.a=Object(v.connect)((function(e){return console.log(e),{username:e.loginReducer.username}}))(y)}).call(this,n(60))},546:function(e,t,n){"use strict";n.r(t);var a=n(536),r=n(163),o=n(164),s=n(167),i=n(166),c=n(165),l=n(1),u=n.n(l),m=n(20),d=n(527),f=n(924),g=n(921),p=n(922),h=n(685),v=n(686),b=(n(575),n(518)),y=n.n(b),E=n(533),S=n(534),k=n(556),N=n(558),x=(n(523),n(614)),O=n(612);var w=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).changeRoomType=function(){a.setState({roomType:"Public"===a.state.roomType?"Private":"Public"}),d.store.addNotification({title:"Room Type Changed",message:"Changed room type to ".concat(a.state.roomType),type:"success",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3,pauseOnHover:!0}})},console.log(e);var o=function(e){var t,n=e.lastIndexOf("/");return t=e.slice(n+1),console.log(t),t}(a.props.location.pathname);return a.toggle=a.toggle.bind(Object(s.a)(a)),a.state={activeTab:"1",change:!1,roomName:o,roomType:"Public",path:e.location.pathname},a.getRoomInfo=a.getRoomInfo.bind(Object(s.a)(a)),a}return Object(o.a)(n,[{key:"getRoomInfo",value:function(e){console.log("nothing to say.")}},{key:"componentDidMount",value:function(){console.log("mounting")}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props;t.children,Object(a.a)(t,["children"]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,{tabs:!0},u.a.createElement(g.a,null,u.a.createElement(p.a,{className:y()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},u.a.createElement("i",{className:"icon-list"}))),u.a.createElement(g.a,null,u.a.createElement(p.a,{className:y()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},u.a.createElement("i",{className:"icon-speech"}))),u.a.createElement(g.a,null,u.a.createElement(p.a,{className:y()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3")}},u.a.createElement("i",{className:"icon-settings"})))),u.a.createElement(h.a,{activeTab:this.state.activeTab},u.a.createElement(v.a,{tabId:"1"},u.a.createElement(x.a,{className:"bg-dark"},u.a.createElement(O.a,null,u.a.createElement(k.a,{roomName:this.props.roomName}),u.a.createElement(N.a,{users:this.props.users,guests:this.props.guests,roomName:this.props.roomName})))),u.a.createElement(v.a,{tabId:"2",className:"p-3 bg-dark",key:this.state.change},u.a.createElement(S.a,{roomName:this.props.roomName,msgs:this.props.msgs})),u.a.createElement(v.a,{tabId:"3",className:"p-3 bg-dark"},u.a.createElement("h6",null,"Settings"),u.a.createElement("div",{className:"aside-options"},u.a.createElement("div",{className:"clearfix mt-4"},u.a.createElement("small",null,u.a.createElement("button",{class:"btn btn-dark"},"Change Room Icon"))),u.a.createElement("div",null,u.a.createElement("small",{className:"text-muted"},"Set the Room Icon."))),u.a.createElement("div",{className:"aside-options"},u.a.createElement("div",{className:"clearfix mt-3"},u.a.createElement("small",null,u.a.createElement("button",{class:"btn btn-dark",onClick:this.changeRoomType},"Change Room Type"))),u.a.createElement("div",null,u.a.createElement("small",{className:"text-muted"},"Set the active room to Private / Public."))),u.a.createElement("div",{className:"aside-options"},u.a.createElement("div",{className:"clearfix mt-3"},u.a.createElement("small",null,u.a.createElement("b",null,"More settings")),u.a.createElement(E.k,{className:"float-right",variant:"pill",label:!0,color:"success",defaultChecked:!0,size:"sm"}))))))}}]),n}(l.Component);t.default=Object(m.o)(w)},547:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(539),r=n.n(a),o=n(540),s=n(572),i=n(1),c=n.n(i),l=(n(548),n(523)),u=n.n(l);function m(t){var n=Object(i.useState)(""),a=Object(s.a)(n,2),l=a[0],m=a[1];function f(){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==l){n.next=2;break}return n.abrupt("return");case 2:a={msg:l,roomName:t.roomName},u.a.post("".concat(e.config.backendURL,"/api/room/sendmessage"),a,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){console.log(e),t.callback(e.data.msg),m("")})).catch((function(e){console.log(e)}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return c.a.createElement("div",{className:"compose bg-dark"},c.a.createElement("textarea",{type:"text",className:"md-textarea form-control",placeholder:"Type a message, @name",value:l,onKeyDown:function(e){13===e.keyCode&&f()},onChange:function(e){m(e.target.value)},style:d.inputStyles}),c.a.createElement("button",{className:"compose-button",onClick:f},c.a.createElement("span",{className:"icon cui-chevron-right"})),t.rightItems)}var d={inputStyles:{borderRadius:"50px",backgroundColor:"white",marginRight:"5px",borderWidth:"2.5px",borderColor:"black"},composeStyles:{backgroundColor:"transparent",border:0,position:"fixed",bottom:"5",margin:0,padding:0},buttonStyles:{backgroundColor:"black"}}}).call(this,n(60))},548:function(e,t,n){},549:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),r=n.n(a);n(550);function o(e){var t=e.title,n=e.leftItems,a=e.rightItems;return r.a.createElement("div",{className:"toolbar bg-dark"},r.a.createElement("div",{className:"left-items"},n),r.a.createElement("h1",{className:"toolbar-title"},t),r.a.createElement("div",{className:"right-items"},a))}},550:function(e,t,n){},551:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),r=n.n(a);n(552);function o(e){var t=e.icon;return r.a.createElement("i",{className:"toolbar-button ".concat(t)})}},552:function(e,t,n){},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(541),s=n.n(o);n(554);function i(e){var t=e.data,n=e.isMine,a=e.startsSequence,o=e.endsSequence,i=e.showTimestamp,c=s()(t.timestamp).format("LLLL");return r.a.createElement("div",{className:["message","".concat(n?"mine":""),"".concat(a?"start":""),"".concat(o?"end":"")].join(" ")},i&&r.a.createElement("div",{className:"timestamp bg-dark"},c),r.a.createElement("div",{className:"bubble-container"},r.a.createElement("b",{className:["sendBy","".concat(n)].join(" ")},!n&&t.sender),r.a.createElement("div",{className:["bubble","".concat(n?"mine":"")].join(" "),title:c},t.msg),r.a.createElement("b",null,n&&t.sender)))}},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){"use strict";(function(e){var a=n(538),r=n(539),o=n.n(r),s=n(540),i=n(163),c=n(164),l=n(167),u=n(166),m=n(165),d=n(530),f=n.n(d),g=n(1),p=n.n(g),h=n(527),v=n(581),b=(n(582),n(112)),y=n(614),E=n(612),S=(n(518),n(533),n(534),n(574)),k=n.n(S),N=n(523),x=n.n(N),O=n(583),w=n.n(O),j=(n(557),f()("".concat(e.config.backendURL,"/")),function(t){Object(u.a)(r,t);var n=Object(m.a)(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).createNotif=function(e,t,n){h.store.addNotification({title:e,message:t,type:n,container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3,pauseOnHover:!0}})},t.switchContext=function(e){e.target&&(e=e.target);try{var t=document.getElementById("context");if(e.srcObject==t.srcObject)return;var n=e.nextElementSibling.innerText;t.style.display="inline",t.poster="https://dummyimage.com/1024x576/2f353a/ffffff.jpg&text="+n,t.srcObject=e.srcObject,t.play(),w()("#context").removeClass().addClass(e.id)}catch(a){console.log("The selected stream is old"),console.log(a)}},t.state={myIds:[0,0],myPeers:[0,0],roomName:t.props.roomName,remotePeers:new Set,remotePeersID:new Set,calls:new Array,connectedPeers:new Set,friendtkn:"",myUsername:""},console.log(t.state.roomName),t.startScreenShare=t.startScreenShare.bind(Object(l.a)(t)),t.startConnection=t.startConnection.bind(Object(l.a)(t)),t.sendCallEndedSignal=t.sendCallEndedSignal.bind(Object(l.a)(t)),t.endCall=t.endCall.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"componentWillUnmount",value:function(){this.endCall((function(){return console.log("Call ended")}))}},{key:"componentDidUpdate",value:function(e){console.log(e),console.log(this.props.roomName),this.props.roomName!==e.roomName&&(this.setState({roomName:this.props.roomName}),this.endCall())}},{key:"createPeer",value:function(e){return new k.a(e,{host:"localhost",port:9e3,path:"/peerserver",config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{url:"turn:numb.viagenie.ca",credential:"HWeF3pu@u2RfeYD",username:"veddandekar6@gmail.com"}]}})}},{key:"updateSelfPeerInfo",value:function(e,t,n,a){console.log(e.state);var r="video"===a?1:0;console.log(r),0!==e.state.myPeers[r]&&(e.state.myPeers[r].destroy(),e.deleteAllVideoElements(),e.setState({calls:new Array}));var o=e.state.myPeers,s=e.state.myIds;o[r]=t,s[r]=n,e.setState({myPeers:o,myIds:s}),console.log(e.state)}},{key:"startScreenShare",value:function(){var t=Object(s.a)(o.a.mark((function t(n,a){var r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(r=this).createPeer(),t.next=4,i.on("open",(function(t){s=t;var o={roomName:r.state.roomName,tkn:s,type:n};x.a.post("".concat(e.config.backendURL,"/api/room/goonline"),o,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){console.log(e);var o=e.data.online;e.data.changePeer?(i.destroy(),i=r.createPeer(e.data.changePeer),console.log(i.disconnected),console.log("Using old Id"),console.log(i.connections),i.disconnected?(i.reconnect(),console.log("peer was disconnected, reconnecting..."),i.on("open",(function(e){console.log("reconnected"),console.log("My token: "+e),console.log("using older id: "+e),r.setUpConnections(r,i,e,n,o)}))):(i.reconnect(),r.setUpConnections(r,i,t,n,o)),a()):(console.log("My token: "+t),r.updateSelfPeerInfo(r,i,t,n),console.log(r.state),r.setUpConnections(r,i,t,n,o),a())})).catch((function(e){console.log(e),a(!1,"Failed")}))}));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"setUpConnections",value:function(e,t,n,a,r){var o=this;e.getMyMediaStream(e,a).then((function(n){e.waitForConnections(e,t),r.forEach((function(n,s){n.username===o.props.username&&n.type===a||(console.log("Connecting to "+r[s].tkn),e.startConnection(e,r[s].tkn,t))}))}))}},{key:"getMyMediaStream",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("screen"!==n){e.next=5;break}return e.next=3,navigator.mediaDevices.getDisplayMedia({video:{width:1024,height:576},audio:!0}).then((function(e){return t.setState({myMediaStreamObj:e}),t.createVideoElement(t,e,"me"),e}));case 3:e.next=8;break;case 5:if("video"!==n){e.next=8;break}return e.next=8,navigator.mediaDevices.getUserMedia({video:{width:1024,height:576},audio:!0}).then((function(e){return t.setState({myMediaStreamObj:e}),t.createVideoElement(t,e,"me"),e}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"startConnection",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("starting connection with "+n),r=t.state.myMediaStreamObj,console.log(r),t.sendMediaStream(t,a,r,n,!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"waitForConnections",value:function(e,t){console.log("Waiting for connections....");var n=e.state.myMediaStreamObj;t.on("call",(function(a){e.sendMediaStream(e,t,n,null,!0,a)}))}},{key:"sendMediaStream",value:function(e,t,n,a,r,o){r&&(a=o.peer,console.log("Connected to "+a),console.log(o.metadata),this.createNotif("Member joined","".concat(o.metadata," joined the call"),"info"));var s=n.getTracks()[0],i=o;s.addEventListener("ended",(function(){console.log("My stream ended. Please show this"),i.close(),e.deleteVideoElement(i.peer)})),s.addEventListener("mute",(function(){console.log("My stream muted. Please show this")})),r?i.answer(n):(console.log(n.getTracks()),i=t.call(a,n,{metadata:this.state.myUsername})),e.addHandlersToCall(e,i,a,i.metadata,t,r)}},{key:"addHandlersToCall",value:function(e,t,n,r,o,s){t.on("error",(function(a){console.log("Connection failed for "+n),console.log(n),console.log(a),t.close(),e.deleteVideoElement(t.peer),s||console.log(n)})),t.on("stream",(function(o){console.log(o.getTracks()),console.log("stream received from"+t.peer);var s=e.state.calls;console.log(s);var i=!1;s.forEach((function(e,n){console.log("checking with "+e.peer),e.peer===t.peer&&(n,i=e)})),console.log(e.state.myIds),e.state.myIds.forEach((function(e,n){console.log("checking with "+e),e===t.peer&&(n,i=e)})),i&&(console.log("closing a duplicate call."),console.log(i.peer)),console.log(s),console.log(t),e.setState({calls:[].concat(Object(a.a)(s),[t])}),e.createStream(e,o,n,r)}))}},{key:"createStream",value:function(e,t,n,a){var r=t.getTracks()[0];t.onremovetrack=function(e){console.log("Track removed"),console.log(e)},r.addEventListener("ended",(function(){console.log("Receiving stream ended. Please show this")})),r.addEventListener("mute",(function(){console.log("muted. Please show this")})),console.log(t.getTracks()),e.createVideoElement(e,t,n,a)}},{key:"createVideoElement",value:function(e,t,n,a){var r=document.createElement("div"),o=document.createElement("video"),s=document.createElement("div"),i=document.getElementById("context");s.classList.add("name-label"),s.innerText=a||"me",o.width="200",o.id=n,"me"==o.id&&(o.muted="true"),o.height="350",o.srcObject=t,o.autoplay=!0,o.onclick=e.switchContext,r.appendChild(o),r.appendChild(s),document.getElementById("videos").appendChild(r),i.srcObject||e.switchContext(document.getElementById(n))}},{key:"clearContext",value:function(){var e=document.getElementById("context");null!=e&&(e.srcObject=null,e.style.display="none")}},{key:"deleteVideoElement",value:function(e){var t=document.getElementById(e),n=w()("#context");t&&(t.nextElementSibling.remove(),t.remove()),n.hasClass(e)&&this.clearContext()}},{key:"deleteAllVideoElements",value:function(){w()("#videos").empty(),this.clearContext()}},{key:"sendCallEndedSignal",value:function(){var t={roomName:this.state.roomName};x.a.post("".concat(e.config.backendURL,"/api/room/exitstream"),t,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"sendRequestToEndCall",value:function(t){var n=this,a={roomName:this.state.roomName};x.a.post("".concat(e.config.backendURL,"/api/room/exitstream"),a,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){console.log(e.data);e.data.idToBeDestroyed;console.log(n.state.myPeers),n.state.myPeers.forEach((function(e,t){e&&e.destroy()})),n.setState({myIds:[0,0],myPeers:[0,0],remotePeers:new Set,remotePeersID:new Set,calls:new Array,connectedPeers:new Set,friendtkn:""}),t&&t()})).catch((function(e){console.log(e),t&&t(!1,"Error")}))}},{key:"endCall",value:function(){var e=Object(s.a)(o.a.mark((function e(t){var n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequestToEndCall(t);case 2:this.state.myMediaStreamObj&&(this.state.myMediaStreamObj.getTracks().forEach((function(e){console.log(e),e.stop()})),this.state.myMediaStreamObj.getTracks().forEach((function(e){n.state.myMediaStreamObj.removeTrack(e)})),this.setState({myMediaStreamObj:null})),this.deleteAllVideoElements();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return p.a.createElement(y.a,null,p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement(E.a,{className:"justify-content-center text-center"},p.a.createElement(v.AwesomeButtonProgress,{type:"primary",size:"medium",action:function(t,n){e.startScreenShare("video",n)}},p.a.createElement("i",{className:"icon-user icons"}),p.a.createElement("span",null," Video")),p.a.createElement(v.AwesomeButtonProgress,{type:"primary",size:"medium",action:function(t,n){return e.startScreenShare("screen",n)}},p.a.createElement("i",{className:"icon-screen-desktop icons"}),p.a.createElement("span",null," Screen")),p.a.createElement(v.AwesomeButtonProgress,{type:"primary",size:"medium",disabled:!this.state.myMediaStreamObj,action:function(t,n){e.endCall(n)}},p.a.createElement("i",{className:"icon-call-end icons"}),p.a.createElement("span",null," End Call"))),p.a.createElement("br",null))}}]),r}(g.Component));t.a=Object(b.connect)((function(e){return console.log(e),{username:e.loginReducer.username}}))(j)}).call(this,n(60))},557:function(e,t,n){},558:function(e,t,n){"use strict";(function(e){var a=n(538),r=n(163),o=n(164),s=n(167),i=n(166),c=n(165),l=n(1),u=n.n(l),m=n(527),d=(n(559),n(530)),f=n.n(d),g=n(523),p=n.n(g),h=n(614),v=n(612),b=n(613),y=n(839),E=n(840),S=n(915),k=n(847),N=n(848),x=n(595),O=n(568),w=n(569),j=n(531),C=n(656),I=n(542),M=n(849),T=n(918),L=n(850),R=n(867),P=(n(562),f()("".concat(e.config.backendURL,"/")),function(t){Object(i.a)(l,t);var n=Object(c.a)(l);function l(e){var t;return Object(r.a)(this,l),(t=n.call(this,e)).loading=function(){return u.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},t.state={users:[],guests:[],newmember:"",modal:!1},t.toggle=t.toggle.bind(Object(s.a)(t)),t.addMember=t.addMember.bind(Object(s.a)(t)),t.handleNewMemberChange=t.handleNewMemberChange.bind(Object(s.a)(t)),t.shareLink=t.shareLink.bind(Object(s.a)(t)),t}return Object(o.a)(l,[{key:"shareLink",value:function(){var e=document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href;navigator.share?navigator.share({title:"Join via Link",url:e}).then((function(){console.log("Link Shared!")})).catch(console.error):navigator.clipboard.writeText(e).then((function(){m.store.addNotification({title:"Link copied",message:"Link copied to clipboard!",type:"success",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3,pauseOnHover:!0}})})).catch(console.log("Sorry try again"))}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"addMember",value:function(){var t=this,n={username:this.state.newmember,roomName:this.props.roomName};console.log(n),p.a.post("".concat(e.config.backendURL,"/api/room/addusertoroom"),n,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){console.log(e),200==e.status&&(t.toggle(),t.setState({users:[].concat(Object(a.a)(t.state.users),[n.username])}))})).catch((function(e){console.log(e)}))}},{key:"handleNewMemberChange",value:function(e){this.setState({newmember:e.target.value})}},{key:"componentDidUpdate",value:function(e){this.props.users!==e.users&&this.setState({users:this.props.users}),this.props.guests!==e.guests&&this.setState({guests:this.props.guests})}},{key:"render",value:function(){return u.a.createElement(h.a,{id:"memberlist"},u.a.createElement(v.a,null,u.a.createElement(b.a,null,u.a.createElement("h3",null," Members ")),u.a.createElement(b.a,null,u.a.createElement("i",{style:{cursor:"pointer"},class:"fa fa-user-plus",onClick:this.toggle}," ","Add"))),u.a.createElement("h5",null," Admins "),u.a.createElement(y.a,{flush:!0},this.state.users&&this.state.users.length>0?this.state.users.map((function(e){return u.a.createElement(E.a,{className:"bg-dark",key:Math.random()},e)})):"No members yet"),u.a.createElement("br",null),u.a.createElement(y.a,{flush:!0},u.a.createElement("h5",null," Guests "),this.state.guests&&this.state.guests.length>0?this.state.guests.map((function(e){return u.a.createElement(E.a,{className:"bg-dark",key:Math.random()},e)})):"No guests yet"),u.a.createElement(S.a,{isOpen:this.state.modal,toggle:this.toggle},u.a.createElement(k.a,{className:"bg-dark",toggle:this.toggle},"Add Members"),u.a.createElement(N.a,{className:"bg-dark"},u.a.createElement(x.a,null,u.a.createElement("h4",null,"Existing Members"),u.a.createElement(O.a,{className:"ml-2"},u.a.createElement(w.a,{addonType:"prepend"},u.a.createElement(j.a,{className:"bg-dark"},u.a.createElement("i",{className:"icon-user"}))),u.a.createElement(C.a,{type:"text",className:"mr-2 bg-dark text-light",placeholder:"Username",autoComplete:"username",value:this.state.newmember,onChange:this.handleNewMemberChange})," ",u.a.createElement(I.a,{color:"primary",onClick:this.addMember},"Add")),u.a.createElement("br",null),u.a.createElement("h4",null,"Invite Guests"),u.a.createElement(M.a,null,"Share the following link with the guest"),u.a.createElement(T.a,{style:{cursor:"pointer"},className:"p-2 m-2 bg-secondary text-dark",id:"linkHere",onClick:this.shareLink},document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href),u.a.createElement(L.a,{placement:"bottom",target:"linkHere"},"Click to share"))),u.a.createElement(R.a,{className:"bg-dark"},u.a.createElement(I.a,{color:"success",onClick:this.toggle},"Close"))))}}]),l}(l.Component));t.a=P}).call(this,n(60))},562:function(e,t,n){},587:function(e,t,n){!function(e){"use strict";function t(e){var t=this,n="above",a="below",r="chartjs-tooltip",o="no-transform",s="tooltip-body",i="tooltip-body-item",c="tooltip-body-item-color",l="tooltip-body-item-label",u="tooltip-body-item-value",m="tooltip-header",d="tooltip-header-item",f={DIV:"div",SPAN:"span",TOOLTIP:(this._chart.canvas.id||function(){var e=function(){return(65536*(1+Math.random())|0).toString(16)},n="_canvas-"+(e()+e());return t._chart.canvas.id=n,n}())+"-tooltip"},g=document.getElementById(f.TOOLTIP);if(g||((g=document.createElement("div")).id=f.TOOLTIP,g.className=r,this._chart.canvas.parentNode.appendChild(g)),0!==e.opacity){if(g.classList.remove(n,a,o),e.yAlign?g.classList.add(e.yAlign):g.classList.add(o),e.body){var p=e.title||[],h=document.createElement(f.DIV);h.className=m,p.forEach((function(e){var t=document.createElement(f.DIV);t.className=d,t.innerHTML=e,h.appendChild(t)}));var v=document.createElement(f.DIV);v.className=s,e.body.map((function(e){return e.lines})).forEach((function(t,n){var a=document.createElement(f.DIV);a.className=i;var r=e.labelColors[n],o=document.createElement(f.SPAN);if(o.className=c,o.style.backgroundColor=r.backgroundColor,a.appendChild(o),t[0].split(":").length>1){var s=document.createElement(f.SPAN);s.className=l,s.innerHTML=t[0].split(": ")[0],a.appendChild(s);var m=document.createElement(f.SPAN);m.className=u,m.innerHTML=t[0].split(": ").pop(),a.appendChild(m)}else{var d=document.createElement(f.SPAN);d.className=u,d.innerHTML=t[0],a.appendChild(d)}v.appendChild(a)})),g.innerHTML="",g.appendChild(h),g.appendChild(v)}var b=this._chart.canvas.getBoundingClientRect(),y=this._chart.canvas.offsetTop,E=this._chart.canvas.offsetLeft+e.caretX,S=y+e.caretY,k=e.width/2;E+k>b.width?E-=k:E<k&&(E+=k),g.style.opacity=1,g.style.left=E+"px",g.style.top=S+"px"}else g.style.opacity=0}var n=t;e.CustomTooltips=t,e.customTooltips=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},588:function(e,t,n){(function(e){(function(t){"use strict";var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function a(e,t){return e(t={exports:{}},t.exports),t.exports}var r,o,s,i,c=function(e){return e&&e.Math==Math&&e},l=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof n&&n)||Function("return this")(),u=function(e){try{return!!e()}catch(t){return!0}},m=!u((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),d={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,g={f:f&&!d.call({1:2},1)?function(e){var t=f(this,e);return!!t&&t.enumerable}:d},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,v=function(e){return h.call(e).slice(8,-1)},b="".split,y=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==v(e)?b.call(e,""):Object(e)}:Object,E=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},S=function(e){return y(E(e))},k=function(e){return"object"===typeof e?null!==e:"function"===typeof e},N=function(e,t){if(!k(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!k(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!k(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!k(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,O=function(e,t){return x.call(e,t)},w=l.document,j=k(w)&&k(w.createElement),C=!m&&!u((function(){return 7!=Object.defineProperty((e="div",j?w.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),I=Object.getOwnPropertyDescriptor,M={f:m?I:function(e,t){if(e=S(e),t=N(t,!0),C)try{return I(e,t)}catch(n){}if(O(e,t))return p(!g.f.call(e,t),e[t])}},T=function(e){if(!k(e))throw TypeError(String(e)+" is not an object");return e},L=Object.defineProperty,R={f:m?L:function(e,t,n){if(T(e),t=N(t,!0),T(n),C)try{return L(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},P=m?function(e,t,n){return R.f(e,t,p(1,n))}:function(e,t,n){return e[t]=n,e},A=function(e,t){try{P(l,e,t)}catch(n){l[e]=t}return t},D=l["__core-js_shared__"]||A("__core-js_shared__",{}),U=a((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.4",mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),_=U("native-function-to-string",Function.toString),V=l.WeakMap,H="function"===typeof V&&/native code/.test(_.call(V)),B=0,q=Math.random(),F=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++B+q).toString(36)},$=U("keys"),G={},z=l.WeakMap;if(H){var Y=new z,W=Y.get,J=Y.has,X=Y.set;r=function(e,t){return X.call(Y,e,t),t},o=function(e){return W.call(Y,e)||{}},s=function(e){return J.call(Y,e)}}else{var K=$[i="state"]||($[i]=F(i));G[K]=!0,r=function(e,t){return P(e,K,t),t},o=function(e){return O(e,K)?e[K]:{}},s=function(e){return O(e,K)}}var Q={set:r,get:o,has:s,enforce:function(e){return s(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!k(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Z=a((function(e){var t=Q.get,n=Q.enforce,a=String(_).split("toString");U("inspectSource",(function(e){return _.call(e)})),(e.exports=function(e,t,r,o){var s=!!o&&!!o.unsafe,i=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||O(r,"name")||P(r,"name",t),n(r).source=a.join("string"==typeof t?t:"")),e!==l?(s?!c&&e[t]&&(i=!0):delete e[t],i?e[t]=r:P(e,t,r)):i?e[t]=r:A(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||_.call(this)}))})),ee=l,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(l[e]):ee[e]&&ee[e][t]||l[e]&&l[e][t]},ae=Math.ceil,re=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?re:ae)(e)},se=Math.min,ie=function(e){return e>0?se(oe(e),9007199254740991):0},ce=Math.max,le=Math.min,ue=function(e,t){var n=oe(e);return n<0?ce(n+t,0):le(n,t)},me=function(e){return function(t,n,a){var r,o=S(t),s=ie(o.length),i=ue(a,s);if(e&&n!=n){for(;s>i;)if((r=o[i++])!=r)return!0}else for(;s>i;i++)if((e||i in o)&&o[i]===n)return e||i||0;return!e&&-1}},de=(me(!0),me(!1)),fe=function(e,t){var n,a=S(e),r=0,o=[];for(n in a)!O(G,n)&&O(a,n)&&o.push(n);for(;t.length>r;)O(a,n=t[r++])&&(~de(o,n)||o.push(n));return o},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pe=ge.concat("length","prototype"),he={f:Object.getOwnPropertyNames||function(e){return fe(e,pe)}},ve={f:Object.getOwnPropertySymbols},be=ne("Reflect","ownKeys")||function(e){var t=he.f(T(e)),n=ve.f;return n?t.concat(n(e)):t},ye=function(e,t){for(var n=be(t),a=R.f,r=M.f,o=0;o<n.length;o++){var s=n[o];O(e,s)||a(e,s,r(t,s))}},Ee=/#|\.prototype\./,Se=function(e,t){var n=Ne[ke(e)];return n==Oe||n!=xe&&("function"==typeof t?u(t):!!t)},ke=Se.normalize=function(e){return String(e).replace(Ee,".").toLowerCase()},Ne=Se.data={},xe=Se.NATIVE="N",Oe=Se.POLYFILL="P",we=Se,je=M.f,Ce=function(e,t){var n,a,r,o,s,i=e.target,c=e.global,u=e.stat;if(n=c?l:u?l[i]||A(i,{}):(l[i]||{}).prototype)for(a in t){if(o=t[a],r=e.noTargetGet?(s=je(n,a))&&s.value:n[a],!we(c?a:i+(u?".":"#")+a,e.forced)&&void 0!==r){if(typeof o===typeof r)continue;ye(o,r)}(e.sham||r&&r.sham)&&P(o,"sham",!0),Z(n,a,o,e)}},Ie=Object.keys||function(e){return fe(e,ge)},Me=function(e){return Object(E(e))},Te=Object.assign,Le=!Te||u((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Te({},e)[n]||"abcdefghijklmnopqrst"!=Ie(Te({},t)).join("")}))?function(e,t){for(var n=Me(e),a=arguments.length,r=1,o=ve.f,s=g.f;a>r;)for(var i,c=y(arguments[r++]),l=o?Ie(c).concat(o(c)):Ie(c),u=l.length,d=0;u>d;)i=l[d++],m&&!s.call(c,i)||(n[i]=c[i]);return n}:Te;Ce({target:"Object",stat:!0,forced:Object.assign!==Le},{assign:Le}),Ce({target:"Object",stat:!0,forced:u((function(){Ie(1)}))},{keys:function(e){return Ie(Me(e))}});var Re=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),Pe=l.Symbol,Ae=U("wks"),De=function(e){return Ae[e]||(Ae[e]=Re&&Pe[e]||(Re?Pe:F)("Symbol."+e))},Ue=function(){var e=T(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},_e=RegExp.prototype.exec,Ve=String.prototype.replace,He=_e,Be=function(){var e=/a/,t=/b*/g;return _e.call(e,"a"),_e.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),qe=void 0!==/()??/.exec("")[1];(Be||qe)&&(He=function(e){var t,n,a,r,o=this;return qe&&(n=new RegExp("^"+o.source+"$(?!\\s)",Ue.call(o))),Be&&(t=o.lastIndex),a=_e.call(o,e),Be&&a&&(o.lastIndex=o.global?a.index+a[0].length:t),qe&&a&&a.length>1&&Ve.call(a[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)})),a});var Fe=He,$e=De("species"),Ge=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),ze=!u((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ye=function(e,t,n,a){var r=De(e),o=!u((function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})),s=o&&!u((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[$e]=function(){return n},n.flags="",n[r]=/./[r]),n.exec=function(){return t=!0,null},n[r](""),!t}));if(!o||!s||"replace"===e&&!Ge||"split"===e&&!ze){var i=/./[r],c=n(r,""[e],(function(e,t,n,a,r){return t.exec===Fe?o&&!r?{done:!0,value:i.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}})),l=c[0],m=c[1];Z(String.prototype,e,l),Z(RegExp.prototype,r,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)}),a&&P(RegExp.prototype[r],"sham",!0)}},We=function(e){return function(t,n){var a,r,o=String(E(t)),s=oe(n),i=o.length;return s<0||s>=i?e?"":void 0:(a=o.charCodeAt(s))<55296||a>56319||s+1===i||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):a:e?o.slice(s,s+2):r-56320+(a-55296<<10)+65536}},Je=(We(!1),We(!0)),Xe=function(e,t,n){return t+(n?Je(e,t).length:1)},Ke=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==v(e))throw TypeError("RegExp#exec called on incompatible receiver");return Fe.call(e,t)};Ye("match",1,(function(e,t,n){return[function(t){var n=E(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var r=T(e),o=String(this);if(!r.global)return Ke(r,o);var s=r.unicode;r.lastIndex=0;for(var i,c=[],l=0;null!==(i=Ke(r,o));){var u=String(i[0]);c[l]=u,""===u&&(r.lastIndex=Xe(o,ie(r.lastIndex),s)),l++}return 0===l?null:c}]}));var Qe=Math.max,Ze=Math.min,et=Math.floor,tt=/\$([$&'`]|\d\d?|<[^>]*>)/g,nt=/\$([$&'`]|\d\d?)/g;Ye("replace",2,(function(e,t,n){return[function(n,a){var r=E(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,a):t.call(String(r),n,a)},function(e,r){var o=n(t,e,this,r);if(o.done)return o.value;var s=T(e),i=String(this),c="function"===typeof r;c||(r=String(r));var l=s.global;if(l){var u=s.unicode;s.lastIndex=0}for(var m=[];;){var d=Ke(s,i);if(null===d)break;if(m.push(d),!l)break;""===String(d[0])&&(s.lastIndex=Xe(i,ie(s.lastIndex),u))}for(var f,g="",p=0,h=0;h<m.length;h++){d=m[h];for(var v=String(d[0]),b=Qe(Ze(oe(d.index),i.length),0),y=[],E=1;E<d.length;E++)y.push(void 0===(f=d[E])?f:String(f));var S=d.groups;if(c){var k=[v].concat(y,b,i);void 0!==S&&k.push(S);var N=String(r.apply(void 0,k))}else N=a(v,i,b,y,S,r);b>=p&&(g+=i.slice(p,b)+N,p=b+v.length)}return g+i.slice(p)}];function a(e,n,a,r,o,s){var i=a+e.length,c=r.length,l=nt;return void 0!==o&&(o=Me(o),l=tt),t.call(s,l,(function(t,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,a);case"'":return n.slice(i);case"<":l=o[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>c){var m=et(u/10);return 0===m?t:m<=c?void 0===r[m-1]?s.charAt(1):r[m-1]+s.charAt(1):t}l=r[u-1]}return void 0===l?"":l}))}}));var at=De("match"),rt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},ot=De("species"),st=[].push,it=Math.min,ct=!u((function(){return!RegExp(4294967295,"y")}));Ye("split",2,(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=String(E(this)),r=void 0===n?4294967295:n>>>0;if(0===r)return[];if(void 0===e)return[a];if(!function(e){var t;return k(e)&&(void 0!==(t=e[at])?!!t:"RegExp"==v(e))}(e))return t.call(a,e,r);for(var o,s,i,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,m=new RegExp(e.source,l+"g");(o=Fe.call(m,a))&&!((s=m.lastIndex)>u&&(c.push(a.slice(u,o.index)),o.length>1&&o.index<a.length&&st.apply(c,o.slice(1)),i=o[0].length,u=s,c.length>=r));)m.lastIndex===o.index&&m.lastIndex++;return u===a.length?!i&&m.test("")||c.push(""):c.push(a.slice(u)),c.length>r?c.slice(0,r):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=E(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r,n):a.call(String(r),t,n)},function(e,r){var o=n(a,e,this,r,a!==t);if(o.done)return o.value;var s=T(e),i=String(this),c=function(e,t){var n,a=T(e).constructor;return void 0===a||void 0==(n=T(a)[ot])?t:rt(n)}(s,RegExp),l=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(ct?"y":"g"),m=new c(ct?s:"^(?:"+s.source+")",u),d=void 0===r?4294967295:r>>>0;if(0===d)return[];if(0===i.length)return null===Ke(m,i)?[i]:[];for(var f=0,g=0,p=[];g<i.length;){m.lastIndex=ct?g:0;var h,v=Ke(m,ct?i:i.slice(g));if(null===v||(h=it(ie(m.lastIndex+(ct?0:g)),i.length))===f)g=Xe(i,g,l);else{if(p.push(i.slice(f,g)),p.length===d)return p;for(var b=1;b<=v.length-1;b++)if(p.push(v[b]),p.length===d)return p;g=f=h}}return p.push(i.slice(f)),p}]}),!ct);var lt,ut="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",mt="["+ut+"]",dt=RegExp("^"+mt+mt+"*"),ft=RegExp(mt+mt+"*$"),gt=function(e){return function(t){var n=String(E(t));return 1&e&&(n=n.replace(dt,"")),2&e&&(n=n.replace(ft,"")),n}},pt={start:gt(1),end:gt(2),trim:gt(3)},ht=pt.trim;Ce({target:"String",proto:!0,forced:(lt="trim",u((function(){return!!ut[lt]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[lt]()||ut[lt].name!==lt})))},{trim:function(){return ht(this)}});var vt=Array.isArray||function(e){return"Array"==v(e)},bt=De("species"),yt=function(e,t){var n;return vt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!vt(n.prototype)?k(n)&&null===(n=n[bt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Et=[].push,St=function(e){var t=1==e,n=2==e,a=3==e,r=4==e,o=6==e,s=5==e||o;return function(i,c,l,u){for(var m,d,f=Me(i),g=y(f),p=function(e,t,n){if(rt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}(c,l,3),h=ie(g.length),v=0,b=u||yt,E=t?b(i,h):n?b(i,0):void 0;h>v;v++)if((s||v in g)&&(d=p(m=g[v],v,f),e))if(t)E[v]=d;else if(d)switch(e){case 3:return!0;case 5:return m;case 6:return v;case 2:Et.call(E,m)}else if(r)return!1;return o?-1:a||r?r:E}},kt=[St(0),St(1),St(2),St(3),St(4),St(5),St(6)][0],Nt=function(e,t){var n=[][e];return!n||!u((function(){n.call(null,t||function(){throw 1},1)}))}("forEach")?function(e){return kt(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach;for(var xt in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Ot=l[xt],wt=Ot&&Ot.prototype;if(wt&&wt.forEach!==Nt)try{P(wt,"forEach",Nt)}catch(Jt){wt.forEach=Nt}}var jt,Ct,It=function(e,t){return void 0===t&&(t=document.body),function(e){return e.match(/^--.*/i)}(e)&&Boolean(document.documentMode)&&document.documentMode>=10?function(){for(var e={},t=document.styleSheets,n="",a=t.length-1;a>-1;a--){for(var r=t[a].cssRules,o=r.length-1;o>-1;o--)if(".ie-custom-properties"===r[o].selectorText){n=r[o].cssText;break}if(n)break}return(n=n.substring(n.lastIndexOf("{")+1,n.lastIndexOf("}"))).split(";").forEach((function(t){if(t){var n=t.split(": ")[0],a=t.split(": ")[1];n&&a&&(e["--"+n.trim()]=a.trim())}})),e}()[e]:window.getComputedStyle(t,null).getPropertyValue(e).replace(/^\s/,"")},Mt=function(e,t,n){var a=N(t);a in e?R.f(e,a,p(0,n)):e[a]=n},Tt=ne("navigator","userAgent")||"",Lt=l.process,Rt=Lt&&Lt.versions,Pt=Rt&&Rt.v8;Pt?Ct=(jt=Pt.split("."))[0]+jt[1]:Tt&&(jt=Tt.match(/Chrome\/(\d+)/))&&(Ct=jt[1]);var At=Ct&&+Ct,Dt=De("species"),Ut=De("species"),_t=[].slice,Vt=Math.max;Ce({target:"Array",proto:!0,forced:!function(e){return At>=51||!u((function(){var t=[];return(t.constructor={})[Dt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}("slice")},{slice:function(e,t){var n,a,r,o=S(this),s=ie(o.length),i=ue(e,s),c=ue(void 0===t?s:t,s);if(vt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!vt(n.prototype)?k(n)&&null===(n=n[Ut])&&(n=void 0):n=void 0,n===Array||void 0===n))return _t.call(o,i,c);for(a=new(void 0===n?Array:n)(Vt(c-i,0)),r=0;i<c;i++,r++)i in o&&Mt(a,r,o[i]);return a.length=r,a}});var Ht=De("toStringTag"),Bt="Arguments"==v(function(){return arguments}()),qt={};qt[De("toStringTag")]="z";var Ft="[object z]"!==String(qt)?function(){return"[object "+function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(Jt){}}(t=Object(e),Ht))?n:Bt?v(t):"Object"==(a=v(t))&&"function"==typeof t.callee?"Arguments":a}(this)+"]"}:qt.toString,$t=Object.prototype;Ft!==$t.toString&&Z($t,"toString",Ft,{unsafe:!0});var Gt=RegExp.prototype,zt=Gt.toString,Yt=u((function(){return"/a/b"!=zt.call({source:"a",flags:"b"})})),Wt="toString"!=zt.name;(Yt||Wt)&&Z(RegExp.prototype,"toString",(function(){var e=T(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Gt)?Ue.call(e):n)}),{unsafe:!0}),t.asideMenuCssClasses=["aside-menu-show","aside-menu-sm-show","aside-menu-md-show","aside-menu-lg-show","aside-menu-xl-show"],t.checkBreakpoint=function(e,t){return t.indexOf(e)>-1},t.deepObjectsMerge=function e(t,n){for(var a=0,r=Object.keys(n);a<r.length;a++){var o=r[a];n[o]instanceof Object&&Object.assign(n[o],e(t[o],n[o]))}return Object.assign(t||{},n),t},t.getColor=function(e,t){void 0===t&&(t=document.body);var n=It("--"+e,t);return n||e},t.getStyle=It,t.hexToRgb=function(e){if("undefined"===typeof e)throw new Error("Hex color is not defined");var t,n,a;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error(e+" is not a valid hex color");return 7===e.length?(t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),a=parseInt(e.substring(5,7),16)):(t=parseInt(e.substring(1,2),16),n=parseInt(e.substring(2,3),16),a=parseInt(e.substring(3,5),16)),"rgba("+t+", "+n+", "+a+")"},t.hexToRgba=function(e,t){if(void 0===t&&(t=100),"undefined"===typeof e)throw new Error("Hex color is not defined");var n,a,r;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error(e+" is not a valid hex color");return 7===e.length?(n=parseInt(e.substring(1,3),16),a=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16)):(n=parseInt(e.substring(1,2),16),a=parseInt(e.substring(2,3),16),r=parseInt(e.substring(3,5),16)),"rgba("+n+", "+a+", "+r+", "+t/100+")"},t.rgbToHex=function(e){if("undefined"===typeof e)throw new Error("Hex color is not defined");if("transparent"===e)return"#00000000";var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(!t)throw new Error(e+" is not a valid rgb color");var n="0"+parseInt(t[1],10).toString(16),a="0"+parseInt(t[2],10).toString(16),r="0"+parseInt(t[3],10).toString(16);return"#"+n.slice(-2)+a.slice(-2)+r.slice(-2)},t.sidebarCssClasses=["sidebar-show","sidebar-sm-show","sidebar-md-show","sidebar-lg-show","sidebar-xl-show"],t.validBreakpoints=["sm","md","lg","xl"],Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(60))},906:function(e,t,n){"use strict";n.r(t);var a=n(163),r=n(164),o=n(166),s=n(165),i=n(1),c=n.n(i),l=(n(907),n(527),n(112)),u=(n(559),n(614)),m=n(612),d=n(908),f=(n(587),n(588),n(546)),g=(n(611),function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).loading=function(){return c.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")};var o=e.match.params.roomname;return console.log(o),r.state={roomName:o},r.props.enterRoom(o),r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.match.params.roomname!==e.match.params.roomname&&(this.setState({roomName:this.props.match.params.roomname}),this.props.enterRoom(this.props.match.params.roomname))}},{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",{class:"app-body",id:"inner-aside-container"},c.a.createElement("main",{class:"main"},c.a.createElement(u.a,{className:"room"},c.a.createElement("video",{id:"context",controls:!0,autoPlay:!0}),c.a.createElement(m.a,{className:"m-0 p-0",id:"videos"}))),c.a.createElement("aside",{className:"aside-menu bg-dark",display:"md"},c.a.createElement(f.default,{roomName:this.props.roomName,msgs:this.props.msgs,users:this.props.users,guests:this.props.guests,loading:this.props.loading})))}}]),n}(i.Component));t.default=Object(l.connect)((function(e){return console.log(e),{roomName:e.roomReducer.currentRoom,guests:e.roomReducer.guests,users:e.roomReducer.users,msgs:e.roomReducer.msgs,loading:e.roomReducer.loading}}),(function(e){return{enterRoom:function(t){return e(d.a(t))}}}))(g)},907:function(e,t,n){},908:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(111),r=n(594),o=n(523),s=n.n(o),i=n(169),c=n.n(i),l={title:"Error",message:"Could not enter room! Please try again.",position:"tr",autoDismiss:2},u=function(e){return{type:a.a,error:e}},m=function(t){console.log("Entering Room...");var n={roomName:t};return function(t){t({type:a.b}),s.a.post("".concat(e.config.backendURL,"/api/room/enterroom"),n,{headers:{"milaap-auth-token":localStorage.getItem("milaap-auth-token")}}).then((function(e){if(console.log(e.data),"UEXISTS"==e.data.err)return console.log("Someone with the same username already exists. Change your username and try again."),localStorage.removeItem("milaap-auth-token"),t(Object(r.c)()),void t(u("UEXISTS"));"NOROOM"!=e.data.err?t(function(e,t){return{type:a.c,currentRoom:e,msgs:t.msgs,users:t.users,guests:t.guests}}(n.roomName,e.data)):t(u("NOROOM"))})).catch((function(e){t(u(e)),t(c.a.error(l))}))}}}).call(this,n(60))}}]);
//# sourceMappingURL=10.e0af0f04.chunk.js.map